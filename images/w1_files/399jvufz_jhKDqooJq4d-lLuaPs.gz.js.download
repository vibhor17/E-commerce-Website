var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},ToneTier,SydFSCHelper;(function(n){n.LOW="Low";n.MEDIUM="Medium";n.HIGH="High"})(ToneTier||(ToneTier={})),function(n){function co(f){var o,h,c,l,a,w,b,d,g,nt,it,rt,ut,ft,et,ot,st,ht;return f===void 0&&(f=null),__awaiter(this,void 0,void 0,function(){var ct,si,gb,cr,lr,ar,hi,nk,tk,vt,wt,ik,rk,vr,uk,yr,fk,ti,ek,br,kr,ok,sk,ci,hk,ck,lk,ak,vk,yk,pk,wk,bk,kk,dk,dr,gr,iu,uu,li,eu,gk,nd,td,su,hu,cu,lu,au,vu,yu,id,pu,rd,ud,fd,ed,od,wu,bu,ku,sd,hd,cd,du,ld,ad,gu,nf,vd,yd,pd,tf,wd,bd,yf,kd,bf,dd,gd,ng,tg,kf,df,gf,ai,ne,te,ie,vi,re,ue,ig,ee,oe,se,he,rg,ug,ce,fg,le,ae,eg,ve,ye,og,pe,sg,hg,ge,cg,no,to,lg,io,ro,uo,fo,ag,vg,yg,pg,wg,bg,eo,kg,dg,gg,oo,nn,tn,rn,un,so,ho,co,ns,ts,rs,us,fs,es,fn,en,on,sn,hn,ls,as,vs,ys,ps,ks,ih,ah,vh,yh,wh,bh,kh,nc,tc,ic,rc,uc,fc,cn,ln,an,vn,oc,sc,yn,hc,cc,lc,pn,ac,vc,yc,pc,wc,bc,kc,dc,gc,nl,tl,il,rl,ul,fl,el,hl,cl,ll,al,wn,vl,yl,pl,wl,wi,bl,kl,dl,gl,na,ta,ia,ra,ua,fa,ea,oa,sa,bn,kn,ha,dn,ca,la,aa,va,bi,ya,pa,wa,ba,gn,ntt,ttt,itt,ka,da,ga,nv,tv,rtt,utt,ftt,ett,ott,stt,htt,ctt,ltt,att,vtt,iv,rv,uv,fv,ytt,ptt,wtt,btt,ktt,dtt,ev,gtt,nit,tit,ov,iit,sv,rit,uit,fit,eit,oit,sit,hv,hit,cit,lit,cv,lv,ait,vit,yit,pit,wit,av,bit,kit,dit,vv,git,nrt,trt,yv,irt,pv,rrt,urt,frt,ert,ort,srt,hrt,crt,lrt,art,vrt,yrt,prt,wrt,brt,krt,wv,drt,bv,grt,nut,tut,iut,kv,rut,uut,fut,eut,out,dv,sut,hut,cut,lut,aut,vut,yut,put,wut,but,kut,dut,gut,nft,tft,ift,rft,uft,fft,eft,oft,sft,hft,gv,ny,ty,cft,lft,aft,vft,yft,iy,ry,pft,wft,bft,kft,dft,gft,net,uy,fy,tet,ey,iet,ret,oy,uet,fet,sy,hy,cy,ly,ay,vy,yy,py,wy,by,eet,dt,oet,set,ky,het,cet,aet,vet,yet,dy,gy,pet,wet,ki,bet,ket,det,get,np,tp,ip,rp,up,fp,ep,op,sp,hp,not,cp,lp,ap,vp,yp,pp,wp,tot,bp,kp,dp,gp,nw,iot,rot,uot,tw,fot,eot,iw,oot,rw,sot,gt,ii,hot,cot,lot,aot,vot,yot,pot,wot,bot,uw,kot,dot,fw,got,nst,ew,tst,ow,ist,rst,ust,fst,sw,hw,est,ost,sst,cw,hst,cst,lst,ast,vst,lw,yst,aw,pst,wst,bst,kst,dst,gst,nht,tht,iht,rht,uht,fht,vw,eht,oht,sht,hht,yw,pw,cht,lht,aht,vht,yht,pht,wht,bht,kht,dht,ww,ght,nct,tct,ict,rct,bw,uct,fct,kw,dw,gw,nb,ect,oct,tb,ib,sct,hct,cct,lct,act,vct,yct,rb,pct,ub,fb,di,eb,wct,bct,kct,dct,gct,nlt,tlt,ilt,gi,rlt,ult,flt,elt,ob,sb,hb,ni,cb,lb,nr,ab,vb,ir,rr,yb,ri,fr,olt,pb,slt,wb,bb,kb,db,hlt,clt,llt,alt,er,vlt,ui,yt,fi,ei,or,ylt,kt,plt=this;return __generator(this,function(wlt){switch(wlt.label){case 0:if(ct=_w._sydConvConfig,si=t(ct===null||ct===void 0?void 0:ct.enableEmptyToneDebugLogs,!0),si&&i(r.System,"BeginConfigs","Codex"),n.isConfigSet=!0,gb=t(ct===null||ct===void 0?void 0:ct.overrideSydOptions,!1),cr=t(ct===null||ct===void 0?void 0:ct.sydOptionSets,!1),lr=t(ct===null||ct===void 0?void 0:ct.voiceSrOptions,u),ar=t(ct===null||ct===void 0?void 0:ct.sydUrlPart,!1),hi=t(ct===null||ct===void 0?void 0:ct.isSydCorpnet,!1),nk=t(ct===null||ct===void 0?void 0:ct.enableSydOverlay,!1),tk=t(ct===null||ct===void 0?void 0:ct.isVisualParityRun,!1),vt=t(ct===null||ct===void 0?void 0:ct.isMSAAuthenticated,!1),wt=t(ct===null||ct===void 0?void 0:ct.isAADAuthenticated,!1),ik=t(ct===null||ct===void 0?void 0:ct.userMailId,u),rk=t(ct===null||ct===void 0?void 0:ct.username,u),vr=t(ct===null||ct===void 0?void 0:ct.sydBaseUrl,af),uk=t(ct===null||ct===void 0?void 0:ct.cmcBaseUrl,vf),yr=t(ct===null||ct===void 0?void 0:ct.isCompliantSydneyEndpointEnabled,!1),fk=t(ct===null||ct===void 0?void 0:ct.enableCompliantBCE,!1),ti=t(ct===null||ct===void 0?void 0:ct.isBingChatForEnterprise,!1),ek=t(ct===null||ct===void 0?void 0:ct.isBingChatForSchools,!1),p=ek||ti,pt=p&&t(ct===null||ct===void 0?void 0:ct.bfbCookieChatConsented,!1),br=t(ct===null||ct===void 0?void 0:ct.sydIDs,u),kr=t(ct===null||ct===void 0?void 0:ct.traceId,u),ok=t(_w._sydConvTranslation,{}),sk=t(ct===null||ct===void 0?void 0:ct.enableSydMic,!0),ci=t(ct===null||ct===void 0?void 0:ct.enableSydShare,!1),hk=t(ct===null||ct===void 0?void 0:ct.enableAnswerBridgeShare,!0),ck=t(ct===null||ct===void 0?void 0:ct.enableShareIframePostMessageLogs,!1),lk=t(ct===null||ct===void 0?void 0:ct.enableUnifiedNativeShareProvider,!1),ak=t(ct===null||ct===void 0?void 0:ct.enableMessageShareableSignalV2,!0),vk=t(ct===null||ct===void 0?void 0:ct.addDv3Opt,!0),yk=t(ct===null||ct===void 0?void 0:ct.enable161Feats,!0),pk=t(ct===null||ct===void 0?void 0:ct.enableAnsCardSuffix,!0),wk=t(ct===null||ct===void 0?void 0:ct.enableLikeSaveToBingPage,!1),bk=t(ct===null||ct===void 0?void 0:ct.isAdultUser,!0),kk=t(ct===null||ct===void 0?void 0:ct.isMissingDob,!1),dk=t(ct===null||ct===void 0?void 0:ct.removeDSAT,!0),dr=t(ct===null||ct===void 0?void 0:ct.enableErrorTelemetry,!0),gr=t(ct===null||ct===void 0?void 0:ct.enableSpeechContinuousErrorHandling,!0),iu=t(ct===null||ct===void 0?void 0:ct.enableSpeechErrorLoggingAsSystemEvent,!0),uu=t(ct===null||ct===void 0?void 0:ct.enableSpeechChatDataAfterPhrase,!1),li=t(ct===null||ct===void 0?void 0:ct.enableSpeechEarconOnInput,!1),eu=t(ct===null||ct===void 0?void 0:ct.enableTTSOnSuggestionAfterVoice,!1),gk=t(ct===null||ct===void 0?void 0:ct.enableTTSNeverSetting,!0),nd=t(ct===null||ct===void 0?void 0:ct.enableCustomizedTtsOptions,!0),td=t(ct===null||ct===void 0?void 0:ct.enableCustomizedTtsVoiceNameOptions,!1),su=t(ct===null||ct===void 0?void 0:ct.enableSimpleVoiceInput,!0),hu=t(ct===null||ct===void 0?void 0:ct.enableSpeechDictationMode,!0),cu=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplex,!1),lu=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplexUI,!1),au=t(ct===null||ct===void 0?void 0:ct.enableAudioPreloadLimit,!0),vu=t(ct===null||ct===void 0?void 0:ct.enableSpeechFateTTSStop,!0),yu=t(ct===null||ct===void 0?void 0:ct.enableSpeechGetUserMedia,!1),id=t(ct===null||ct===void 0?void 0:ct.enableCdxFeats,!1),pu=t(ct===null||ct===void 0?void 0:ct.cdxFeats,u),rd=t(ct===null||ct===void 0?void 0:ct.disableSecureUpdateConversation,!1),ud=t(ct===null||ct===void 0?void 0:ct.disableSecureSendFeedback,!1),fd=t(ct===null||ct===void 0?void 0:ct.enableFdbkFinalized,!0),ed=t(ct===null||ct===void 0?void 0:ct.enableSemSerpShare,!1),od=t(ct===null||ct===void 0?void 0:ct.enableCreatorShare,!1),wu=t(ct===null||ct===void 0?void 0:ct.enableSydImageCreate,!0),bu=t(ct===null||ct===void 0?void 0:ct.enableSunoMusicCreate,!0),ku=t(ct===null||ct===void 0?void 0:ct.enableSunoMusicInst,!1),sd=t(ct===null||ct===void 0?void 0:ct.enableSunoMusicRelativeBaseUrl,!1),hd=t(ct===null||ct===void 0?void 0:ct.enableSecureConnect,!0),cd=t(ct===null||ct===void 0?void 0:ct.enableAffinityInstance,!1),du=t(ct===null||ct===void 0?void 0:ct.enableAutomaticReconnect,!1),ld=t(ct===null||ct===void 0?void 0:ct.enableSSE,!1),ad=t(ct===null||ct===void 0?void 0:ct.enableSSEFallback,!1),gu=t(ct===null||ct===void 0?void 0:ct.sydneyBaseUrlForSSE,u),nf=t(ct===null||ct===void 0?void 0:ct.pathBaseForSSE,"/sydney/sse"),vd=t(ct===null||ct===void 0?void 0:ct.enableStatefulReconnection,!1),yd=t(ct===null||ct===void 0?void 0:ct.enableTelemetryFixForCreateConvError,!0),pd=t(ct===null||ct===void 0?void 0:ct.enableFixForDuplicateErrorCount,!0),tf=t(ct===null||ct===void 0?void 0:ct.enableGetMessagesHub,!0),wd=t(ct===null||ct===void 0?void 0:ct.enableShortOpt,!1),bd=t(ct===null||ct===void 0?void 0:ct.enablePuidOvr,!1),yf=t(ct===null||ct===void 0?void 0:ct.enablePerfTracker,!0),kd=t(ct===null||ct===void 0?void 0:ct.enableEmbeddedPerf,!1),bf=t(ct===null||ct===void 0?void 0:ct.enableSinglePerfEventPerMessage,!0),dd=t(ct===null||ct===void 0?void 0:ct.enableE2EPerf,!0),gd=t(ct===null||ct===void 0?void 0:ct.enableCIBBootstrapper,!1),ng=t(ct===null||ct===void 0?void 0:ct.enableFixForTextSelectionFlickering,!1),tg=t(ct===null||ct===void 0?void 0:ct.enableCCPPerf,!1),kf=t(ct===null||ct===void 0?void 0:ct.enableVisibilityPerfFix,!1),df=t(ct===null||ct===void 0?void 0:ct.enableLiteSuggestionItemWrap,!1),gf=t(ct===null||ct===void 0?void 0:ct.enableNeatListening,!1),ai=t(ct===null||ct===void 0?void 0:ct.enableCIQAlwaysLoad,!1),ne=t(ct===null||ct===void 0?void 0:ct.enableUnauthRedir,!0),te=t(ct===null||ct===void 0?void 0:ct.enableNewChatIconInActionBar,!0),ie=t(ct===null||ct===void 0?void 0:ct.enableActionBarV2,!0),vi=t(ct===null||ct===void 0?void 0:ct.speechSurface,ef),re=t(ct===null||ct===void 0?void 0:ct.enableSpeechDictationBridgeMode,!1),ue=t(ct===null||ct===void 0?void 0:ct.enableNativeEchoCancellation,!1),ig=t(ct===null||ct===void 0?void 0:ct.enableTranslateForBotMessage,!1),ee=t(ct===null||ct===void 0?void 0:ct.enableReadAloudMessage,!0),oe=t(ct===null||ct===void 0?void 0:ct.enableReadAloudOptions,!1),se=t(ct===null||ct===void 0?void 0:ct.enableReadAloudOnDeepLeoOnly,!0),he=t(ct===null||ct===void 0?void 0:ct.enableReadAloudFixV1,!1),rg=t(ct===null||ct===void 0?void 0:ct.bypassMicPermissionsQuery,!1),ug=t(ct===null||ct===void 0?void 0:ct.enableWhisperSR,!1),ce=t(ct===null||ct===void 0?void 0:ct.enableSpeechLogNoiseReduction,!0),fg=t(ct===null||ct===void 0?void 0:ct.enableAutoReopenMic,!1),le=t(ct===null||ct===void 0?void 0:ct.enableAutoReopenMicTTSStopped,!1),ae=t(ct===null||ct===void 0?void 0:ct.enableAltVoiceQuerySubmissionOnMobileABV2,!1),eg=t(ct===null||ct===void 0?void 0:ct.enableAdaptiveTTSQuality,!0),ve=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMockMicListeningState,!1),ye=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableMockMicBlockedState,!1),og=t(ct===null||ct===void 0?void 0:ct.enableAutoStopSpeechRecogIfInvisible,!1),pe=t(ct===null||ct===void 0?void 0:ct.enableUndefinedToListeningAnimation,!1),sg=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableReopenMicNotification,!1),hg=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableReopenMicNotificationTest,!1),ge=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableUniversalInput,!1),cg=t(ct===null||ct===void 0?void 0:ct.enableDynamicBaseUrl,!1),no=t(ct===null||ct===void 0?void 0:ct.enableSpeechErrorHandling,!0),to=t(ct===null||ct===void 0?void 0:ct.enableSpeechAriaLabel,!0),lg=t(ct===null||ct===void 0?void 0:ct.enableSpeechReopenMic,!1),io=t(ct===null||ct===void 0?void 0:ct.enableSpeechTTSLatencyLogging,!0),ro=t(ct===null||ct===void 0?void 0:ct.enableSpeechInputWhileRequestIsPending,!1),uo=t(ct===null||ct===void 0?void 0:ct.enableSpeechIconDarkTheme,!0),fo=t(ct===null||ct===void 0?void 0:ct.enableSpeechAudioContextPlayback,!1),ag=t(ct===null||ct===void 0?void 0:ct.enableDesignerGPTAsPartnerNameinBICUrl,!0),vg=t(ct===null||ct===void 0?void 0:ct.enableNewTopicAutoExpand,!0),yg=t(ct===null||ct===void 0?void 0:ct.enableMaxTurnsPerConversation,!0),pg=t(ct===null||ct===void 0?void 0:ct.enableAmberTurnPerConversation,!1),wg=t(ct===null||ct===void 0?void 0:ct.isAccountLinkedWithActiveAAD,!1),bg=t(ct===null||ct===void 0?void 0:ct.enableThreadsAADMSASwitch,!0),eo=t(ct===null||ct===void 0?void 0:ct.enableTelemetryPrivacy,!1),kg=t(ct===null||ct===void 0?void 0:ct.enableSydSafeSearch,!1),dg=t(ct===null||ct===void 0?void 0:ct.enableFeedbackClientSideScreenshot,!0),gg=t(ct===null||ct===void 0?void 0:ct.enablePrivacyConsent,!0),oo=t(ct===null||ct===void 0?void 0:ct.enableNoTrainingSettings,!1),nn=t(ct===null||ct===void 0?void 0:ct.syntheticStreamSpeed,at),tn=t(ct===null||ct===void 0?void 0:ct.disableShareWithNoMargin,!1),rn=t(ct===null||ct===void 0?void 0:ct.enableCreativeLandingPage,!1),un=t(ct===null||ct===void 0?void 0:ct.enableServerLogMerging,!0),so=t(ct===null||ct===void 0?void 0:ct.enableOneClickCopy,!1),ho=t(ct===null||ct===void 0?void 0:ct.enableReorderCopiedTextReferences,!1),co=t(ct===null||ct===void 0?void 0:ct.enableCodeCopy,!0),ns=t(ct===null||ct===void 0?void 0:ct.enableCodeBar,!0),ts=t(ct===null||ct===void 0?void 0:ct.enableCodeBarV2,!0),rs=t(ct===null||ct===void 0?void 0:ct.enableUserMessageCopy,!0),us=t(ct===null||ct===void 0?void 0:ct.enableRichTextPaste,!1),fs=t(ct===null||ct===void 0?void 0:ct.enablePasteMarkdownTable,!1),es=t(ct===null||ct===void 0?void 0:ct.enablePasteMath,!1),fn=t(ct===null||ct===void 0?void 0:ct.enableMobileOneClickShare,!1),en=t(ct===null||ct===void 0?void 0:ct.enableFeedbackInstrumentation,!0),on=t(ct===null||ct===void 0?void 0:ct.enableSuggEndFix,!1),sn=t(ct===null||ct===void 0?void 0:ct.enableAutoRecoverFromInvalidSession,!0),hn=t(ct===null||ct===void 0?void 0:ct.enableAutoRecoverFromInvalidSessionForFirstTurn,!0),ls=t(ct===null||ct===void 0?void 0:ct.enableInlineFeedback,!0),as=t(ct===null||ct===void 0?void 0:ct.enableInlineFeedbackV2,!1),vs=t(ct===null||ct===void 0?void 0:ct.enableInlineFeedbackV21,!0),ys=t(ct===null||ct===void 0?void 0:ct.enableFeedbackCollectMoreInfo,!0),ps=t(ct===null||ct===void 0?void 0:ct.enableSerpFeedback,!0),ks=t(ct===null||ct===void 0?void 0:ct.enableMessageSave,!1),ih=t(ct===null||ct===void 0?void 0:ct.enableMoreOnBotMessageActionsBar,!1),ah=t(ct===null||ct===void 0?void 0:ct.enableMessageExport,!1),vh=t(ct===null||ct===void 0?void 0:ct.enableMessageExportWithPlainText,!1),yh=t(ct===null||ct===void 0?void 0:ct.enableHandoffAPI,!0),wh=t(ct===null||ct===void 0?void 0:ct.enableGetTokenInAdvance,!1),bh=t(ct===null||ct===void 0?void 0:ct.enableRedirectUriFunction,!1),kh=t(ct===null||ct===void 0?void 0:ct.enableMsalLocalStorageCache,!0),nc=t(ct===null||ct===void 0?void 0:ct.enableMsalDifferentAuthority,!0),tc=t(ct===null||ct===void 0?void 0:ct.enableMsalStoreAuthInCookie,!1),ic=t(ct===null||ct===void 0?void 0:ct.enableSearchOnBingForBotMessage,!1),rc=t(ct===null||ct===void 0?void 0:ct.enableSearchIconForSearchOnBing,!1),uc=t(ct===null||ct===void 0?void 0:ct.enableScopeRowForTable,!0),fc=t(ct===null||ct===void 0?void 0:ct.enableMarkdownTableV2,!1),cn=t(ct===null||ct===void 0?void 0:ct.enableSearchOnBingInLinkHoverCard,!1),ln=t(ct===null||ct===void 0?void 0:ct.enableLearnMoreCitationWithArrow,!1),an=t(ct===null||ct===void 0?void 0:ct.enablePromotionItemCitationWithArrow,!1),vn=t(ct===null||ct===void 0?void 0:ct.enableLinkCitationWithArrow,!1),oc=t(ct===null||ct===void 0?void 0:ct.enableExportBlockDialog,!1),sc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportOnlineWord,!0),yn=t(ct===null||ct===void 0?void 0:ct.enableMessageExportWord,!1),hc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportOnlineExcel,!0),cc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportLocalExcel,!1),lc=t(ct===null||ct===void 0?void 0:ct.enableTableBarFlatActions,!0),pn=t(ct===null||ct===void 0?void 0:ct.enableThreadExportLocalWord,!1),ac=t(ct===null||ct===void 0?void 0:ct.enableThreadExportOnlineWord,!0),vc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportV2,!0),yc=t(ct===null||ct===void 0?void 0:ct.enableBotMessageActionsBar,!0),pc=t(ct===null||ct===void 0?void 0:ct.enableShorterToastDuration,!1),wc=t(ct===null||ct===void 0?void 0:ct.enableDirectlyOpenExportOnlineLink,!0),bc=t(ct===null||ct===void 0?void 0:ct.enableTonePreview,!1),kc=t(ct===null||ct===void 0?void 0:ct.enableMSAuth1stPartyApp,!0),dc=t(ct===null||ct===void 0?void 0:ct.enableAdsRedirectLinkForTextMessage,!1),gc=t(ct===null||ct===void 0?void 0:ct.enableCopyHtml,!0),nl=t(ct===null||ct===void 0?void 0:ct.enableCopyHtmlWithHighlightedCode,!1),tl=t(ct===null||ct===void 0?void 0:ct.enableExportPdfWithAnswerScreenshot,!1),il=t(ct===null||ct===void 0?void 0:ct.enableExportDocxWithAnswerScreenshot,!1),rl=t(ct===null||ct===void 0?void 0:ct.enableLibrariesSplitImport,!1),ul=t(ct===null||ct===void 0?void 0:ct.enableFlatActionBar,!1),fl=t(ct===null||ct===void 0?void 0:ct.codexMUIDUser,!1),el=t(ct===null||ct===void 0?void 0:ct.enableChatIconClickable,!1),hl=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickable,!1),cl=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickableV2,!1),ll=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickableV3,!1),al=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickableV4,!1),wn=t(ct===null||ct===void 0?void 0:ct.enableThreadOnlyFromSignal,!0),vl=t(ct===null||ct===void 0?void 0:ct.enableShareQuestionWithResponse,!1),yl=t(ct===null||ct===void 0?void 0:ct.enableShareQuestionTitlePrefix,!1),pl=t(ct===null||ct===void 0?void 0:ct.enableShareInlineAdsIframe,!1),wl=t(ct===null||ct===void 0?void 0:ct.enableShareToMyBing,!1),wi=t(ct===null||ct===void 0?void 0:ct.enableShareLinkPreviewForNative,!0),bl=t(ct===null||ct===void 0?void 0:ct.enableShareOverlay,!0),kl=t(ct===null||ct===void 0?void 0:ct.enableShowShareButtonWithSecurityCheck,!0),dl=t(ct===null||ct===void 0?void 0:ct.enableScreenshotIgnoreOnCibSerp,!1),gl=t(ct===null||ct===void 0?void 0:ct.enableStandaloneUtility,!1),na=t(ct===null||ct===void 0?void 0:ct.enableCPPRRUpsell,!1),ta=t(ct===null||ct===void 0?void 0:ct.enableWelcomeCopilotProButton,!1),ia=t(ct===null||ct===void 0?void 0:ct.enableCopilotProUpsellDimeV2,!1),ra=t(ct===null||ct===void 0?void 0:ct.enableCopilotProOverlay,!1),ua=t(ct===null||ct===void 0?void 0:ct.enableCopilotProOverlayCloseButton,!1),fa=t(ct===null||ct===void 0?void 0:ct.enableCopilotProSpectrumTemplate,!1),ea=t(ct===null||ct===void 0?void 0:ct.enableCopilotProPersistentTemplate,!1),oa=t(ct===null||ct===void 0?void 0:ct.copilotProPersistentTitle,u),sa=t(ct===null||ct===void 0?void 0:ct.CopilotProPersistentSubTitle,u),n.enableCreatorSendQueryWhenShowConvQuery=t(ct===null||ct===void 0?void 0:ct.enableCreatorSendQueryWhenShowConvQuery,!0),n.padding2TMobile=t(ct===null||ct===void 0?void 0:ct.padding2TMobile,80),ur=t(ct===null||ct===void 0?void 0:ct.enableSetConvQueryFlag,!0),v=t((w=_w._sydConvTranslation)===null||w===void 0?void 0:w.pageTitleText,u),tt=document.title||u,y=p?ke:yi,n.enableConvModeSwitchAjax=t(ct===null||ct===void 0?void 0:ct.enableConvModeSwitchAjax,!1),n.enableBingChatPath=t(ct===null||ct===void 0?void 0:ct.enableBingChatPath,!1),bn=t(ct===null||ct===void 0?void 0:ct.enableGetChats,!1),kn=t(ct===null||ct===void 0?void 0:ct.enableDelayGetChats,!0),ha=t(ct===null||ct===void 0?void 0:ct.enableNewTables,!1),dn=t(ct===null||ct===void 0?void 0:ct.codexTableVersion,1),ca=t(ct===null||ct===void 0?void 0:ct.enableBufferMessage,!1),la=t(ct===null||ct===void 0?void 0:ct.enableBufferLoadingDots,!1),aa=t(ct===null||ct===void 0?void 0:ct.enableServerMetaText,!1),va=t(ct===null||ct===void 0?void 0:ct.enableCodeInterpreterPreviewCode,!1),bi=t(ct===null||ct===void 0?void 0:ct.enableGptForMobileBrowser,!1),ya=t(ct===null||ct===void 0?void 0:ct.enable3PGptForMobileBrowser,!1),pa=t(ct===null||ct===void 0?void 0:ct.enableGptForMobileUnderside,!1),wa=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorItemContextMenuFor1P,!1),ba=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorDeprecationAlert,!1),gn=t(ct===null||ct===void 0?void 0:ct.enableGPTCreator,!1),ntt=t(ct===null||ct===void 0?void 0:ct.enableGptWelcomeInitLoad,!1),ttt=t(ct===null||ct===void 0?void 0:ct.enableGptBuilderAction,!1),itt=t(ct===null||ct===void 0?void 0:ct.isGptCreator,!1),ka=t(ct===null||ct===void 0?void 0:ct.gptCreatorCopilotCreatorPath,sf),da=t(ct===null||ct===void 0?void 0:ct.gptCreatorBingPreviewPath,oi),ga=t(ct===null||ct===void 0?void 0:ct.gptCreatorSharePath,oi),nv=t(ct===null||ct===void 0?void 0:ct.enableMock3PGpts,!1),tv=t(ct===null||ct===void 0?void 0:ct.enableGPTCreatorCreateGptPreview,!0),rtt=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorPreviewAutoSave,!1),utt=t(ct===null||ct===void 0?void 0:ct.enableGptBuilderBottomBackgroundForCreatePanel,!1),ftt=t(ct===null||ct===void 0?void 0:ct.enableOrderForCustomGreetings,!1),ett=t(ct===null||ct===void 0?void 0:ct.enableCopilotCharacter,!1),ott=t(ct===null||ct===void 0?void 0:ct.enableEmoteJSErrorFix,!1),stt=t(ct===null||ct===void 0?void 0:ct.enableCharacterLipSync,!1),htt=t(ct===null||ct===void 0?void 0:ct.enableCharacterTap,!1),ctt=t(ct===null||ct===void 0?void 0:ct.enableCharacterCmcFix,!1),ltt=t(ct===null||ct===void 0?void 0:ct.emoteDriverJsUrl,u),att=t(ct===null||ct===void 0?void 0:ct.emotePlayerJsUrl,u),vtt=t(ct===null||ct===void 0?void 0:ct.freeSydneyMicaAnimatedImgUrl,u),iv=t(ct===null||ct===void 0?void 0:ct.disableSuggestionsInCustomGpt,!1),rv=t(ct===null||ct===void 0?void 0:ct.enableThreadsForAllGpts,!1),uv=t(ct===null||ct===void 0?void 0:ct.enableBingGptUploadFileAPI,!1),fv=t(ct===null||ct===void 0?void 0:ct.enableOptimizedStreaming,!1),ytt=t(ct===null||ct===void 0?void 0:ct.enableExportDocxWithFormat,!0),ptt=t(ct===null||ct===void 0?void 0:ct.enableDisposeOrphanedHosts,!1),wtt=t(ct===null||ct===void 0?void 0:ct.enablePreserveTextFormat,!0),btt=t(ct===null||ct===void 0?void 0:ct.enableHoverCardOnLearnMorePills,!0),ktt=t(ct===null||ct===void 0?void 0:ct.enableShareOnHostMessage,!1),dtt=t(ct===null||ct===void 0?void 0:ct.disablePassBotGreetingInContext,!0),ev=t(ct===null||ct===void 0?void 0:ct.enableThreadContextMenu,!1),gtt=t(ct===null||ct===void 0?void 0:ct.enableCloudflareCaptcha,!0),nit=t(ct===null||ct===void 0?void 0:ct.enableInvisibleCaptchaChallenge,!1),tit=t(ct===null||ct===void 0?void 0:ct.enableKnowledgeCardImage,!0),ov=t(ct===null||ct===void 0?void 0:ct.enableStartPromotion,!0),iit=t(ct===null||ct===void 0?void 0:ct.enableCopyButtonInstrumented,!0),sv=t(ct===null||ct===void 0?void 0:ct.enableThreads,!1),rit=t(ct===null||ct===void 0?void 0:ct.enableThreadSync,!1),uit=t(ct===null||ct===void 0?void 0:ct.enableMobileKnowledgeCardOverlay,!0),fit=t(ct===null||ct===void 0?void 0:ct.enableCibOverlayForKnowledgeCard,!0),eit=t(ct===null||ct===void 0?void 0:ct.enableKCAdaptiveCardUpdate,!0),oit=t(ct===null||ct===void 0?void 0:ct.enableKCInChatClickThroughRequery,!1),sit=t(ct===null||ct===void 0?void 0:ct.enablePluginsByTone,!1),hv=t(ct===null||ct===void 0?void 0:ct.disableWelcomeScreen,!1),hit=t(ct===null||ct===void 0?void 0:ct.enableWelcomeScreenV2,!1),cit=t(ct===null||ct===void 0?void 0:ct.enableWelcomeScreenV3,!1),lit=t(ct===null||ct===void 0?void 0:ct.enableChatFRE,!1),cv=t(ct===null||ct===void 0?void 0:ct.disableZIRMSStart,!1),lv=t(ct===null||ct===void 0?void 0:ct.enableWebPageContextMessages,!1),ait=t(ct===null||ct===void 0?void 0:ct.enableCodexPluginb,!1),vit=t(ct===null||ct===void 0?void 0:ct.enableNewAutoSuggestEndPoint,!1),yit=t(ct===null||ct===void 0?void 0:ct.enable2TQueryConfigsOnSerpLoad,!1),pit=t(ct===null||ct===void 0?void 0:ct.enableSydStaticAdsLink,!1),wit=t(ct===null||ct===void 0?void 0:ct.isMobileHost,!1),av=t(ct===null||ct===void 0?void 0:ct.enableMessagePrivacy,!1),bit=t(ct===null||ct===void 0?void 0:ct.enableNoSecondaryUseMessagePrivacy,!1),kit=t(ct===null||ct===void 0?void 0:ct.enableMsalv3,!1),dit=t(ct===null||ct===void 0?void 0:ct.enableResponseRetentionOnNetworkError,!1),vv=t(ct===null||ct===void 0?void 0:ct.enableCloseShareOnClickOutside,!1),git=t(ct===null||ct===void 0?void 0:ct.enableTypingIndicatorForSerpSlotCreator,!1),nrt=t(ct===null||ct===void 0?void 0:ct.enableOnProcessingStartEvent,!0),trt=t(ct===null||ct===void 0?void 0:ct.enableOnProcessingCompleteEvent,!0),yv=t(ct===null||ct===void 0?void 0:ct.enableUpdateProfile,!1),irt=t(ct===null||ct===void 0?void 0:ct.enableTypewriter,!0),pv=t(ct===null||ct===void 0?void 0:ct.sydRequestSource,u),rrt=t(ct===null||ct===void 0?void 0:ct.enableConfirmPromptSingleDeleteThread,!1),urt=!t(ct===null||ct===void 0?void 0:ct.disableTooltip,!0),frt=t(ct===null||ct===void 0?void 0:ct.enableNewlineTooltip,!1),ert=t(ct===null||ct===void 0?void 0:ct.enableAcAnchorUnderline,!1),ort=t(ct===null||ct===void 0?void 0:ct.enableSaharaStream,!1),srt=t(ct===null||ct===void 0?void 0:ct.enableFaviconsV2,!0),hrt=t(ct===null||ct===void 0?void 0:ct.enableFaviconsAutoRefresh,!1),crt=t(ct===null||ct===void 0?void 0:ct.enableCachedContentFixForIsStartOfSession,!0),lrt=t(ct===null||ct===void 0?void 0:ct.enableLooseMessageDensity,!1),art=t(ct===null||ct===void 0?void 0:ct.enablePassSydedgForMobile,!1),vrt=t(ct===null||ct===void 0?void 0:ct.enableLinkPreviewCarousel,!1),yrt=t(ct===null||ct===void 0?void 0:ct.useFakeDataForLinkPreviewCarousel,!1),prt=t(ct===null||ct===void 0?void 0:ct.enableThreadShowPlugins,!0),wrt=t(ct===null||ct===void 0?void 0:ct.enableUserMessageIdConsistency,!1),brt=t(ct===null||ct===void 0?void 0:ct.enablePluginPanelFre,!1),krt=t(ct===null||ct===void 0?void 0:ct.enablePersistentInputText,!0),wv=t(ct===null||ct===void 0?void 0:ct.enableEmptyThreadTime,!1),drt=t(ct===null||ct===void 0?void 0:ct.enableRenderIframeCardRequest,!1),bv=t(ct===null||ct===void 0?void 0:ct.enableBackendExportService,!1),grt=t(ct===null||ct===void 0?void 0:ct.enableFastChatLoadAnimation,!1),nut=t(ct===null||ct===void 0?void 0:ct.enableShareInThreadsHeader,!0),tut=t(ct===null||ct===void 0?void 0:ct.enableNewConversationActivate,!1),iut=t(ct===null||ct===void 0?void 0:ct.enableMessageTypeCheck,!0),kv=t(ct===null||ct===void 0?void 0:ct.enableSydneyGetMessagesHub,!1),rut=t(ct===null||ct===void 0?void 0:ct.enableInlinePersonalizationConsent,!1),uut=t(ct===null||ct===void 0?void 0:ct.enableInlinePersonalizationConsentCopilotLogo,!0),fut=t(ct===null||ct===void 0?void 0:ct.enableInlinePersonalizationConsentCallback,!1),eut=t(ct===null||ct===void 0?void 0:ct.personalizationInlineConsentTurn,pf),out=t(ct===null||ct===void 0?void 0:ct.noTrainingNoticeVisitCountIncrement,wf),dv=t(ct===null||ct===void 0?void 0:ct.enableEduStarterMessage,!1),sut=t(ct===null||ct===void 0?void 0:ct.enableEduStarterMessageAnimation,!1),hut=t(ct===null||ct===void 0?void 0:ct.enablePhonePlugin,!1),cut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginDogfoodEnvironment,!1),lut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginBetaEnvironment,!1),aut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginProductionEnvironment,!0),vut=t(ct===null||ct===void 0?void 0:ct.disablePhonePluginInPreciseTone,!1),yut=t(ct===null||ct===void 0?void 0:ct.disablePhonePluginInBalancedTone,!1),put=t(ct===null||ct===void 0?void 0:ct.disablePhonePluginInCreativeTone,!1),wut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginInPreciseTone,!1),but=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginInBalancedTone,!1),kut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginInCreativeTone,!1),dut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginCatalogId,!0),gut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginSemanticSearch,!1),nft=t(ct===null||ct===void 0?void 0:ct.enableUseStoreAsSourceForPhonePlugin,!1),tft=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginCatalog,!0),ift=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginDirectPopupAuth,!1),rft=t(ct===null||ct===void 0?void 0:ct.enableAndroidCopilotV2,!1),uft=t(ct===null||ct===void 0?void 0:ct.enableDonationPlugin,!1),fft=t(ct===null||ct===void 0?void 0:ct.enableDonationPluginDogfood,!1),eft=t(ct===null||ct===void 0?void 0:ct.enableDonationPluginProd,!1),oft=t(ct===null||ct===void 0?void 0:ct.enablePrivacyProtectedConversation,!1),sft=t(ct===null||ct===void 0?void 0:ct.enableNoSecondaryUseProtectedConversation,!1),hft=t(ct===null||ct===void 0?void 0:ct.enableAdaptiveCardMessage,!0),gv=t(ct===null||ct===void 0?void 0:ct.enableVersionedApiCalls,!0),ny=t(ct===null||ct===void 0?void 0:ct.enableAddNotebookSource,!1),ty=t(ct===null||ct===void 0?void 0:ct.enableJWTFTRFix,!0),cft=t(ct===null||ct===void 0?void 0:ct.enablePaywallTelemetryFix,!1),lft=t(ct===null||ct===void 0?void 0:ct.enableNoBingSearchResponseBackground,!0),aft=t(ct===null||ct===void 0?void 0:ct.enableSettingsToggle,!1),vft=t(ct===null||ct===void 0?void 0:ct.enableSettingsToggleTop,!1),yft=t(ct===null||ct===void 0?void 0:ct.enableTurboTone,!1),iy=t(ct===null||ct===void 0?void 0:ct.enableOpenEdgeNotification,!1),ry=t(ct===null||ct===void 0?void 0:ct.enableSuppressSigninMessage,!1),pft=t(ct===null||ct===void 0?void 0:ct.enableRereadMetaAcc,!0),wft=t(ct===null||ct===void 0?void 0:ct.enableCodexLog,!1),bft=t(ct===null||ct===void 0?void 0:ct.enableKeyboardNav,!1),kft=t(ct===null||ct===void 0?void 0:ct.enablePreRequestSydneyLog,!1),dft=t(ct===null||ct===void 0?void 0:ct.enableToneSelectorA11yFitAndFinish,!1),gft=t(ct===null||ct===void 0?void 0:ct.disableDisengagedErrorLog,!0),net=t(ct===null||ct===void 0?void 0:ct.enableExpandSeeMoreContainerOnFocusIn,!0),uy=t(ct===null||ct===void 0?void 0:ct.enableExportPdfWithRichFormat,!1),fy=t(ct===null||ct===void 0?void 0:ct.enableThreadsConsent,!1),tet=t(ct===null||ct===void 0?void 0:ct.enableMutedThreadsConsent,!0),ey=t(ct===null||ct===void 0?void 0:ct.enableDeleteSingleConversationMemory,!0),iet=t(ct===null||ct===void 0?void 0:ct.enableThreadsTopRightButton,!1),ret=t(ct===null||ct===void 0?void 0:ct.enablePluginsTopRightButton,!1),oy=t(ct===null||ct===void 0?void 0:ct.enableOneDs,!1),uet=t(ct===null||ct===void 0?void 0:ct.enableBceMuidConsent,!1),fet=t(ct===null||ct===void 0?void 0:ct.enableBfbCookieConsent,!1),sy=t(ct===null||ct===void 0?void 0:ct.enableThreadContextMenuV2,!0),hy=t(ct===null||ct===void 0?void 0:ct.enableSearchBoxAutoFocus,!1),cy=t(ct===null||ct===void 0?void 0:ct.enableUserMessageRewriteInsteadOfCopy,!1),ly=t(ct===null||ct===void 0?void 0:ct.enableUserMessageRewriteAndCopy,!0),ay=t(ct===null||ct===void 0?void 0:ct.enableSendFeedback,!1),vy=t(ct===null||ct===void 0?void 0:ct.enableSearchUserMessageOnBing,!0),yy=t(ct===null||ct===void 0?void 0:ct.enableEditLastUserMessage,!1),py=t(ct===null||ct===void 0?void 0:ct.enableHideLastUserMessageInEdit,!1),wy=t(ct===null||ct===void 0?void 0:ct.enablePrivateThreadDefaultTitle,!1),by=t(ct===null||ct===void 0?void 0:ct.enablePromptHandling,!0),eet=t(ct===null||ct===void 0?void 0:ct.enableU18Scenario,!1),dt=t(ct===null||ct===void 0?void 0:ct.isCCP,!1),oet=t(ct===null||ct===void 0?void 0:ct.enablePluginDevTools,!1),set=t(ct===null||ct===void 0?void 0:ct.enablePluginCSRF,!1),ky=t(ct===null||ct===void 0?void 0:ct.enableModeAndSlotValidationForAds,!1),het=t(ct===null||ct===void 0?void 0:ct.enableLogNoChatVariant,!1),cet=t(ct===null||ct===void 0?void 0:ct.enableVersionPrompt,!1),aet=t(ct===null||ct===void 0?void 0:ct.enableAttributionsV2,!0),vet=t(ct===null||ct===void 0?void 0:ct.enableLearnMoreCards,!1),yet=t(ct===null||ct===void 0?void 0:ct.enableSentByDescriptor,!0),dy=t(ct===null||ct===void 0?void 0:ct.enableInlineComponents,!1),gy=t(ct===null||ct===void 0?void 0:ct.enableSuggestionChipDisplayText,!0),pet=t(ct===null||ct===void 0?void 0:ct.enableLinkPreviewFailureTelemetry,!1),wet=t(ct===null||ct===void 0?void 0:ct.enableLinkPreviewAppIdV2,!1),ki=t(ct===null||ct===void 0?void 0:ct.enableWpFluxTwoTAnswerCard,!1),bet=t(ct===null||ct===void 0?void 0:ct.disableWpFluxTwoTAnswerCardFallback,!1),ket=t(ct===null||ct===void 0?void 0:ct.enableBICRelativeBaseUrl,!1),det=t(ct===null||ct===void 0?void 0:ct.isCopilotChat,!1),get=t(ct===null||ct===void 0?void 0:ct.enableCitationsOnSentences,!0),np=t(ct===null||ct===void 0?void 0:ct.enableWelcomeItemEnterAnimation,!1),tp=t(ct===null||ct===void 0?void 0:ct.enableToneSelectorAsDropdown,!1),ip=t(ct===null||ct===void 0?void 0:ct.enableSidePanelPositionInlineStart,!1),rp=t(ct===null||ct===void 0?void 0:ct.enableSidePanelAsPersistent,!1),up=t(ct===null||ct===void 0?void 0:ct.enableSidePanelVisibilityTrigger,!1),fp=t(ct===null||ct===void 0?void 0:ct.enableSidePanelCustomScrollbar,!1),ep=t(ct===null||ct===void 0?void 0:ct.enableConversationCustomScrollbar,!1),op=t(ct===null||ct===void 0?void 0:ct.enableConversationAlignmentTop,!1),sp=t(ct===null||ct===void 0?void 0:ct.enableSimpleCopilotWelcomeScreen,!1),hp=t(ct===null||ct===void 0?void 0:ct.enableThreadsHoverDescriptor,!1),not=t(ct===null||ct===void 0?void 0:ct.enableAnswerCards,!0),cp=t(ct===null||ct===void 0?void 0:ct.enableMessagesWithInternalLoadAnimation,!1),lp=t(ct===null||ct===void 0?void 0:ct.enableHideRAISuggestionIcon,!0),ap=t(ct===null||ct===void 0?void 0:ct.enableMuidDisabledSuggestionBar,!0),vp=t(ct===null||ct===void 0?void 0:ct.enableHideSuggestionOnErrors,!0),yp=t(ct===null||ct===void 0?void 0:ct.enableConversationToActionBarFocusOrder,!1),pp=t(ct===null||ct===void 0?void 0:ct.enableBufferClearOnReset,!0),wp=t(ct===null||ct===void 0?void 0:ct.enableCancelPendingRequestOnNewMessage,!0),tot=t(ct===null||ct===void 0?void 0:ct.enablePluginChatModeOnly,!0),bp=t(ct===null||ct===void 0?void 0:ct.enableThreadsArrowNav,!0),kp=t(ct===null||ct===void 0?void 0:ct.disableTitlePreviewLabel,!0),dp=t(ct===null||ct===void 0?void 0:ct.disableTurnCount,!1),gp=t(ct===null||ct===void 0?void 0:ct.enableMultiDomainBIC,!0),nw=t(ct===null||ct===void 0?void 0:ct.allowedBICDomains,"https://copilot.microsoft.com,https://www.bing.com"),iot=t(ct===null||ct===void 0?void 0:ct.enableDeferGetConversation,!0),rot=t(ct===null||ct===void 0?void 0:ct.enableBingProxyApiForSingleDeleteInThreads,!1),sr=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.extraNotebookOptionsSets,lf),uot=t(ct===null||ct===void 0?void 0:ct.enableSilentUpdateConversationFail,!1),tw=t(ct===null||ct===void 0?void 0:ct.enableGraphicArtJsonResponse,!1),fot=t(ct===null||ct===void 0?void 0:ct.enableStartConvFixInShareConversationMode,!1),eot=t(ct===null||ct===void 0?void 0:ct.enableInlineTwoTAnswer,!1),iw=t(ct===null||ct===void 0?void 0:ct.enableFreeSydney,!1),oot=t(ct===null||ct===void 0?void 0:ct.enable1P3PGPTsGreeting,!1),rw=t(ct===null||ct===void 0?void 0:ct.enableShortShareUrl,!0),sot=t(ct===null||ct===void 0?void 0:ct.defaultMaxPersonaCount,6),gt=t(ct===null||ct===void 0?void 0:ct.isBingUserSignedIn,!1),ii=t(ct===null||ct===void 0?void 0:ct.enableFlux3P,!1),hot=t(ct===null||ct===void 0?void 0:ct.f3pMsaAccountOnly,!0),cot=t(ct===null||ct===void 0?void 0:ct.enablePluginBCE,!1),lot=t(ct===null||ct===void 0?void 0:ct.enableF3pNoSearchBgFix,!0),aot=t(ct===null||ct===void 0?void 0:ct.enablePluginCopilot,!1),vot=t(ct===null||ct===void 0?void 0:ct.enableSearchPluginOnTop,!0),yot=t(ct===null||ct===void 0?void 0:ct.topListedPluginIds,""),pot=t(ct===null||ct===void 0?void 0:ct.enablePluginDiscovery,!1),wot=t(ct===null||ct===void 0?void 0:ct.enablePluginSendLocaleInfo,!1),bot=t(ct===null||ct===void 0?void 0:ct.enablePluginsV1,!0),uw=t(ct===null||ct===void 0?void 0:ct.enableSunoPluginInChatRecommendation,!1),kot=t(ct===null||ct===void 0?void 0:ct.disableTierLoadBalancingCall,!1),dot=t(ct===null||ct===void 0?void 0:ct.isUnionClient,!1),fw=t(ct===null||ct===void 0?void 0:ct.enableInstService,!1),got=t(ct===null||ct===void 0?void 0:ct.enablePluginRevocation,!1),nst=t(ct===null||ct===void 0?void 0:ct.enableSearchPlugins,!1),ew=t(ct===null||ct===void 0?void 0:ct.sydneyFeedbackVertical,cf),tst=t(ct===null||ct===void 0?void 0:ct.enableUndersideTopRightButtonBugFix,!0),ow=t(ct===null||ct===void 0?void 0:ct.enableEnterToCreateNewLine,!1),ist=t(ct===null||ct===void 0?void 0:ct.enableUpdateLocationButton,!1),rst=t(ct===null||ct===void 0?void 0:ct.enableLocationMetaMessage,!1),ust=t(ct===null||ct===void 0?void 0:ct.enableNavigatorPermissionCheck,!1),fst=t(ct===null||ct===void 0?void 0:ct.enablePromptDirectlyForLocation,!1),sw=t(ct===null||ct===void 0?void 0:ct.enableTextMessageDelayedFinalization,!1),hw=t(ct===null||ct===void 0?void 0:ct.enableNewTopicButtonFeature,!1),est=t(ct===null||ct===void 0?void 0:ct.enableFullScreenIframe,!0),ost=t(ct===null||ct===void 0?void 0:ct.enablePartiallyCoveringDialogForFullScreenIframe,!1),sst=t(ct===null||ct===void 0?void 0:ct.enableDelayedMsgHandlerDisposal,!0),cw=t(ct===null||ct===void 0?void 0:ct.enableChangeSidePanelVisibility,!1),hst=t(ct===null||ct===void 0?void 0:ct.enableMuidRobustnessFix,!1),cst=t(ct===null||ct===void 0?void 0:ct.enableRaiButtonTooltip,!0),lst=t(ct===null||ct===void 0?void 0:ct.enableResetFocusLossFix,!0),ast=t(ct===null||ct===void 0?void 0:ct.disableTurnCountLocalAccount,!1),vst=t(ct===null||ct===void 0?void 0:ct.isTurnCountLocalAccountDisabled,!1),lw=t(ct===null||ct===void 0?void 0:ct.enableWindowsCopilot,!1),yst=t(ct===null||ct===void 0?void 0:ct.enableCaptchaCmcUrl,!1),aw=t(ct===null||ct===void 0?void 0:ct.codexHoverCardDelayTimerDuration,10),pst=t(ct===null||ct===void 0?void 0:ct.enableCitationSuperscriptFix,!0),wst=t(ct===null||ct===void 0?void 0:ct.enableTopAlignConversation,!0),bst=t(ct===null||ct===void 0?void 0:ct.enableHideZeroTurn,!0),kst=t(ct===null||ct===void 0?void 0:ct.enableMessageGroupHeader,!0),dst=t(ct===null||ct===void 0?void 0:ct.enableFullWidthMessages,!0),gst=t(ct===null||ct===void 0?void 0:ct.enableInlineStreamingIndicator,!0),nht=t(ct===null||ct===void 0?void 0:ct.enableDefaultBalancedtone,!1),tht=t(ct===null||ct===void 0?void 0:ct.enableMultilineSuggestions,!0),iht=t(ct===null||ct===void 0?void 0:ct.enableAdaptiveCardImageForCodeInterpreter,!1),rht=t(ct===null||ct===void 0?void 0:ct.enableCodePreviewInFooter,!1),uht=t(ct===null||ct===void 0?void 0:ct.enableProgressMessageForBce,!1),fht=t(ct===null||ct===void 0?void 0:ct.enableStackedSuggestionChips,!1),vw=t(ct===null||ct===void 0?void 0:ct.enableMoveThreadActionsInsideContextMenu,!1),eht=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableTierLoadBalancing,!0),oht=t(ct===null||ct===void 0?void 0:ct.enableLocaleInfoForChatHub,!1),sht=t(ct===null||ct===void 0?void 0:ct.enableLoadConvTheme,!1),hht=t(ct===null||ct===void 0?void 0:ct.enableEarlyCancellations,!1),yw=t(ct===null||ct===void 0?void 0:ct.enableNoTrainNotification,!1),pw=t(ct===null||ct===void 0?void 0:ct.enablePreProactivePanelPosition,!1),cht=t(ct===null||ct===void 0?void 0:ct.enableRegisterContextAsync,!1),lht=t(ct===null||ct===void 0?void 0:ct.enableEdgeContextualPlugin,!1),aht=t(ct===null||ct===void 0?void 0:ct.enableShorelineStrongStyle,!1),vht=t(ct===null||ct===void 0?void 0:ct.enableStreamingInBackground,!0),yht=t(ct===null||ct===void 0?void 0:ct.enableBGStreamInChat,!1),pht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelCodeInterpreter,!1),wht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelIconUpload,!1),bht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelIconGenerated,!1),kht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelIconExternalStorage,!1),dht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelEmptyDescriptionError,!1),ww=t(ct===null||ct===void 0?void 0:ct.enableGPTCreatorBCE,!1),ght=t(ct===null||ct===void 0?void 0:ct.enable3PGPTPublishProvenance,!1),nct=t(ct===null||ct===void 0?void 0:ct.userAnID,u),tct=t(ct===null||ct===void 0?void 0:ct.disableGptCrtVisualSearchapi,!1),ict=t(ct===null||ct===void 0?void 0:ct.enableFaqBcc,!0),rct=t(ct===null||ct===void 0?void 0:ct.enableFaqBce,!0),bw=t(ct===null||ct===void 0?void 0:ct.faqBccBceUrl,ff),uct=t(ct===null||ct===void 0?void 0:ct.enableAttributionsV2MoreButton,!0),fct=t(ct===null||ct===void 0?void 0:ct.enable2TScrollToBottom,!1),kw=t(ct===null||ct===void 0?void 0:ct.enableThumbsDownToSearchOnBing,!0),dw=t(ct===null||ct===void 0?void 0:ct.enableThreadContextMenuA11yBugFix,!0),gw=t(ct===null||ct===void 0?void 0:ct.enableSRA11yFix,!0),nb=t(ct===null||ct===void 0?void 0:ct.enableStopStreamingSignal,!0),ect=t(ct===null||ct===void 0?void 0:ct.enableStartOfSessionFix,!1),oct=t(ct===null||ct===void 0?void 0:ct.enableGhostedAutoSuggest,!0),tb=t(ct===null||ct===void 0?void 0:ct.codexCanvas,hf),ib=t(ct===null||ct===void 0?void 0:ct.enableMetaFlowTasksMessage,!1),sct=t(ct===null||ct===void 0?void 0:ct.enableHostedContentToneSignal,!1),hct=t(ct===null||ct===void 0?void 0:ct.enableHostedContentPartnerSignal,!1),cct=t(ct===null||ct===void 0?void 0:ct.enableThreadZiFix,!0),lct=t(ct===null||ct===void 0?void 0:ct.enableDeleteAllThreads,!1),act=t(ct===null||ct===void 0?void 0:ct.enableInternalSearchQueryReadout,!0),vct=t(ct===null||ct===void 0?void 0:ct.enableFixReponseReadout,!0),yct=t(ct===null||ct===void 0?void 0:ct.enableThreadNameReadout,!0),rb=t(ct===null||ct===void 0?void 0:ct.enableInlineButtonAdaptiveCardUpdate,!1),pct=t((g=_w._udsSydConfig)===null||g===void 0?void 0:g.EnableMobileChat,!1),ub=t((nt=_w._udsSydConfig)===null||nt===void 0?void 0:nt.EnableEdgeMobileAadChat,!1),fb=t(ct===null||ct===void 0?void 0:ct.enableFeedbackCaptureFix,!0),di=t(ct===null||ct===void 0?void 0:ct.enableSerpFeedbackContactMeAndAlias,!1),eb=t(ct===null||ct===void 0?void 0:ct.enableSerpFeedbackDialogV2,!1),wct=t(ct===null||ct===void 0?void 0:ct.disableGptsOnMobile,!1),bct=t(ct===null||ct===void 0?void 0:ct.enableSubmitImageWithQueryHidden,!1),kct=t(ct===null||ct===void 0?void 0:ct.enableSendTypeToSearchLog,!1),dct=t(ct===null||ct===void 0?void 0:ct.enableTypeToSearchInCopilot,!1),gct=t(ct===null||ct===void 0?void 0:ct.enableClearTextInputValueOnfocus,!1),nlt=t(ct===null||ct===void 0?void 0:ct.enableConversationIdQueryParameter,!1),tlt=t(ct===null||ct===void 0?void 0:ct.pluginDevToolsDfpSessionId,u),ilt=t(ct===null||ct===void 0?void 0:ct.locationLearnMore,fe),pr(),hot&&ii&&!vt&&!cot&&(ii=!1),pv&&(CIB.config.sydney.request.source=pv),gi=t(ct===null||ct===void 0?void 0:ct.enableNotebookMode,!1),rlt=t(ct===null||ct===void 0?void 0:ct.enableNotebookUrlParam,!0),ult=t(ct===null||ct===void 0?void 0:ct.enableNotebookMsaConsent,!1),flt=t(ct===null||ct===void 0?void 0:ct.isMsaMock,!1),gi&&(CIB.config.features.enableNotebookMode=gi,CIB.config.features.enableNotebookUrlParam=rlt,bt=(it=CIB.config.sydney.request.optionsSets)===null||it===void 0?void 0:it.slice(0),hr=sr.split(","),nh()),ci&&CIB.config.share&&(CIB.config.share.customizedShareOutImageThumbnailId=t(ct===null||ct===void 0?void 0:ct.customizedShareOutImageThumbnailId,"OBFB.73FF6ADE8CC93B6ED1EDA1CE557E2E09"),CIB.config.share.nativeAppShareFormCode=t(ct===null||ct===void 0?void 0:ct.nativeAppShareFormCode,""),wi&&(CIB.config.share.generateShareUrlProvider=(rt=_w.ShareHelper)===null||rt===void 0?void 0:rt.generateShareUrl)),(det||dot)&&ci&&(CIB.config.share.baseUrl=window.location.origin),gs(),is(),sj_evt.bind("showSydFSC",wr),lrt&&(CIB.config.messaging.messageDensity="loose"),vw&&(CIB.config.features.enableThreadContexMenuActionItems=vw),art&&(((ut=CIB.config.contentCreator)===null||ut===void 0?void 0:ut.query)!=null&&(CIB.config.contentCreator.query.frame="sydedg"),((ft=CIB.config.sunoMusicCreator)===null||ft===void 0?void 0:ft.query)!=null&&(CIB.config.sunoMusicCreator.query.frame="sydedg")),ket&&(CIB.config.contentCreator.baseUrl=window.location.origin),gp&&nw&&CIB.config.contentCreator&&(CIB.config.contentCreator.allowedDomains=nw.split(","),t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableSydTestCache,!1)&&CIB.config.contentCreator.allowedDomains.push(_w.location.origin)),CIB.config.features.enableMultiDomainBIC=gp,CIB.config.features.enableDeferGetConversation=iot,aw!==500&&(CIB.config.messaging.hoverCardDelayTimerDuration=aw),CIB.config.features.enableInternalSearchQueryReadout=act,CIB.config.features.enableFixReponseReadout=vct,CIB.config.features.enableThreadNameReadout=yct,wft&&(CIB.config.logging.logLevel=0),CIB.config.features.enableRereadMetaAcc=pft,CIB.config.features.enableKeyboardNav=bft,CIB.config.features.enablePreRequestSydneyLog=kft,CIB.config.features.enableToneSelectorA11yFitAndFinish=dft,CIB.config.features.disableDisengagedErrorLog=gft,CIB.config.features.enableExpandSeeMoreContainerOnFocusIn=net,CIB.config.features.enableSentByDescriptor=yet,CIB.config.features.enableMessageTypeCheck=iut,CIB.config.features.enableThreadOnlyFromSignal=wn,CIB.config.features.enableVersionPrompt=cet,CIB.config.features.enableAttributionsV2=aet,CIB.config.features.enableLearnMoreCards=vet,CIB.config.features.enableInlineTwoTAnswer=eot,CIB.config.features.enableMuidRobustnessFix=hst,CIB.config.features.enableRaiButtonTooltip=cst,CIB.config.features.enableResetFocusLossFix=lst,CIB.config.features.enableMultilineSuggestions=tht,CIB.config.features.enableStartConvFixInShareConversationMode=fot,CIB.config.features.enableResponseRetentionOnNetworkError=dit,CIB.config.features.enableStatefulReconnection=vd,CIB.config.features.enableFixForCreateConversationErrorTelemetry=yd,CIB.config.features.enableFixForDuplicateErrorCount=pd,CIB.config.features.disableGptsOnMobile=wct,CIB.config.features.enableSpeechDuplex=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplex,!1),CIB.config.features.enableSpeechDuplexUI=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplexUI,!1),CIB.config.features.enableSpeechDuplexDev=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplexDev,!1),CIB.config.features.enableSubmitImageWithQueryHidden=bct,CIB.config.features.enableSendTypeToSearchLog=kct,CIB.config.features.enableTypeToSearchInCopilot=dct,CIB.config.features.enableClearTextInputValueOnfocus=gct,th(),sd&&CIB.config.sunoMusicCreator&&(CIB.config.sunoMusicCreator.baseUrl=window.location.origin),elt=_ge("cib-design-tokens"),elt||CIB.activateDesignTokens(),uh(f),oht&&rh(),nu(ok),gv&&(CIB.config.features.enableVersionedApiCalls=gv),ny&&(CIB.config.features.enableAddNotebookSource=ny),ty&&(CIB.config.features.enableJWTFTRFix=ty),bp&&(CIB.config.features.enableThreadsArrowNav=bp),cg&&(CIB.config.bing.baseUrl=bo()),bn&&(CIB.config.features.enableGetChats=!0),kn&&(CIB.config.features.enableDelayGetChats=!0),rit&&(CIB.config.features.enableThreadSync=!0),irt&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),ort&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),srt&&(CIB.config.features.enableFaviconV2=!0),hrt&&(CIB.config.features.enableFaviconAutoRefresh=!0),crt&&(CIB.config.features.enableCachedContentFixForIsStartOfSession=!0),uot&&(CIB.config.features.enableSilentUpdateConversationFail=!0),CIB.config.features.enableAccessibleAttributionTitle=t(ct===null||ct===void 0?void 0:ct.enableAccessibleAttributionTitle,!1),CIB.config.features.enableEmptyToneDebugLogs=si,CIB.config.features.enableDefaultBalancedtone=nht,CIB.config.features.enableBingProxyApiForSingleDeleteInThreads=rot,sv&&ii&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={}),vot&&(CIB.config.plugin.searchPluginPositon=0),ob=yot.split(","),ob.length>0&&(CIB.config.plugin.topListedPluginIds=ob),aot&&(CIB.config.features.enablePluginCopilot=!0,CIB.config.plugin.baseUrl=window.location.origin),CIB.config.features.enablePluginsV1=bot,CIB.config.features.enablePluginDiscovery=pot,CIB.config.features.enablePluginSendLocaleInfo=wot,CIB.config.features.enableSunoPluginInChatRecommendation=uw,uw&&e(CIB.config.sydney.request.optionsSets,"hdkrp3cw"),tot&&(CIB.config.features.enablePluginOptionSetsConversationModeOnly=!0),lft&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),prt&&(CIB.config.features.enableThreadShowPlugins=!0),brt&&(CIB.config.features.enablePluginPanelFre=!0),vrt&&(CIB.config.features.enableLinkPreviewCarousel=!0),pet&&(CIB.config.features.enableLinkPreviewFailureTelemetry=!0),wet&&(CIB.config.features.enableLinkPreviewAppIdV2=!0),sit&&(CIB.config.features.enablePluginsByTone=!0),ait&&(CIB.config.features.enableOpenTableBookBlueLink=!0),lot&&(CIB.config.features.enableNoBingSearchResponseBackgroundWithOptionsSets=!0),tst&&(CIB.config.features.enableUndersideTopRightButtonBugFix=!0),oet&&(CIB.config.features.enablePluginDevTools=!0),set&&(CIB.config.features.enablePluginCSRF=!0,kt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),kt&&(CIB.config.plugin.csrfSid=kt)),CIB.config.plugin.dfpSessionId=tlt),ict&&(CIB.config.features.enableFaqBcc=!0,CIB.config.links.faqBccBceUrl=bw),rct&&(CIB.config.features.enableFaqBce=!0,CIB.config.links.faqBccBceUrl=bw),CIB.config.features.enableAdditionalPrivacyStatement=t(ct===null||ct===void 0?void 0:ct.isTeenageStudentUser,!1)&&ti,rut&&(CIB.config.features.enableInlinePersonalizationConsent=!0,CIB.config.messaging.personalizationInlineConsentTurn=eut,CIB.config.features.enableInlinePersonalizationConsentCopilotLogo=uut,CIB.config.features.enableInlinePersonalizationConsentCallback=fut),rrt&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),CIB.config.features.enableRenderCardRequestIMSearchParams=!0,yrt&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),wrt&&(CIB.config.features.enableUserMessageIdConsistency=!0),drt&&(CIB.config.features.enableRenderIframeCardRequest=!0),dv&&(CIB.config.features.enableFreEducationalStarter=!0),sut&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),hut&&(CIB.config.features.enablePhonePlugin=!0),aut&&(CIB.config.features.enablePhonePluginProductionEnvironment=!0),lut&&(CIB.config.features.enablePhonePluginBetaEnvironment=!0),cut&&(CIB.config.features.enablePhonePluginDogfoodEnvironment=!0),vut&&(CIB.config.features.disablePhonePluginInPreciseTone=!0),yut&&(CIB.config.features.disablePhonePluginInBalancedTone=!0),put&&(CIB.config.features.disablePhonePluginInCreativeTone=!0),wut&&(CIB.config.features.enablePhonePluginInPreciseTone=!0),but&&(CIB.config.features.enablePhonePluginInBalancedTone=!0),kut&&(CIB.config.features.enablePhonePluginInCreativeTone=!0),dut&&(CIB.config.features.enablePhonePluginCatalogId=!0),gut&&(CIB.config.features.enablePhonePluginSemanticSearch=!0),nft&&(CIB.config.features.enableUseStoreAsSourceForPhonePlugin=!0),tft&&(CIB.config.features.enablePhonePluginCatalog=!0),ift&&(CIB.config.features.enablePhonePluginDirectPopupAuth=!0),rft&&(CIB.config.features.enableMobileCopilotV2=!0),uft&&(CIB.config.features.enableDonationPlugin=!0),fft&&(CIB.config.features.enableDonationPluginDogfood=!0),eft&&(CIB.config.features.enableDonationPluginProd=!0),CIB.config.features.enablePrivacyProtectedConversation=oft,CIB.config.features.enableNoSecondaryUseProtectedConversation=sft,CIB.config.features.enableMsalV3=kit,cs(),hft&&(CIB.config.features.enableAdaptiveCardMessage=!0),est&&(CIB.config.features.enableFullScreenIframe=!0),ost&&(CIB.config.features.enablePartiallyCoveringDialogForFullScreenIframe=!0),ag&&(CIB.config.features.enableDesignerGPTAsPartnerNameinBICUrl=!0),sst&&(CIB.config.features.enableDelayedMsgHandlerDisposal=!0),sb=new URLSearchParams(_w.location.search),hb=sb.get(uf.toLowerCase()),(lr!=""||hi&&hb)&&(ni=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],ni=s(ni,lr),hi&&(ni=s(ni,hb)),CIB.config.speech.srOptions=ni),li&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),iu&&(CIB.config.features.enableSpeechErrorLoggingAsSystemEvent=iu),vi&&(CIB.config.speech.query.surface=vi,CIB.config.speech.surface=vi),yo(ct),(fg||lg)&&(cb=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,tr),cb&&cb!="1"?CIB.config.features.enableAutoReopenMic=!1:(CIB.config.features.enableAutoReopenMic=!0,ko(sg,hg))),ug&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxwhisr")),vt&&(CIB.config.features.supressSigninMessage=!0,CIB.config.features.enableAgeRestriction=!0,CIB.config.sydney.isMissingDob=kk,CIB.config.sydney.isAdultUser=bk),dk&&(lb=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),lb>=0&&CIB.config.sydney.request.optionsSets.splice(lb,1)),vk&&e(CIB.config.sydney.request.optionsSets,"dv3sugg"),wd&&e(CIB.config.sydney.request.optionsSets,"prodshortv4"),gb&&cr!=""&&(CIB.config.sydney.request.optionsSets=s([],cr)),id){if(pu)for(ir=pu.split(","),nr=0,ab=ir;nr<ab.length;nr++)ri=ab[nr],CIB.config.features[ri]=!0;if(vb=sb.get(rf.toLowerCase()),hi&&vb)for(ir=vb.split(","),rr=0,yb=ir;rr<yb.length;rr++)ri=yb[rr],ri.indexOf(":")>=0&&(fr=ri.split(":"),fr.length==2&&(CIB.config.features[fr[0]]=fr[1]))}if(br&&(olt=br.split(","),CIB.config.sydney.request.sliceIds=olt),CIB.config.bing.isVisualParityRun=tk,CIB.config.bing.isAADAuthenticated=wt,CIB.config.bing.isMSAAuthenticated=vt,CIB.config.bing.userMailId=ik,CIB.config.bing.username=rk,CIB.config.bing.isSignedIn=gt,CIB.config.bing.isCCP=dt,vr&&(CIB.config.sydney.baseUrl=vr),ar!=""&&(CIB.config.sydney.pathBase=ar),gk&&(pb=sj_cook.get(n.userCook,pi),pb&&pb=="0"&&(CIB.config.features.enableTTSOnVoiceInput=!1)),nd&&(CIB.config.features.enableCustomizedTtsOptions=!0,slt=sj_cook.get(n.userCook,we),wb=parseInt(slt),bb=sj_cook.get(n.userCook,be),wb&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{speed:wb})),bb&&td&&(CIB.config.features.enableCustomizedTtsVoiceNameOptions=!0,CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{voiceName:bb}))),gr&&(CIB.config.features.enableSpeechContinuousErrorHandling=gr),uu&&(CIB.config.features.enableSpeechChatDataAfterPhrase=uu),li&&(CIB.config.features.enableSpeechEarconOnInput=li),eu&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=eu),su&&(CIB.config.features.enableSimpleVoiceInput=su),hu&&(CIB.config.features.enableSpeechDictationMode=hu),cu&&(CIB.config.features.enableSpeechDuplex=cu),lu&&(CIB.config.features.enableSpeechDuplexUI=lu),au&&(CIB.config.features.enableAudioPreloadLimit=au),vu&&(CIB.config.features.enableSpeechFateTTSStop=vu),yu&&(CIB.config.features.enableSpeechGetUserMedia=yu),no&&(CIB.config.features.enableSpeechErrorHandling=no),io&&(CIB.config.features.enableSpeechTTSLatencyLogging=io),ro&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=ro),uo&&(CIB.config.features.enableSpeechIconDarkTheme=uo),to&&(CIB.config.features.enableSpeechAriaLabel=to),df&&(CIB.config.features.enableLiteWrapTipsAndFix=df),gf&&(CIB.config.features.enableNeatListening=gf),ai&&(CIB.config.features.enableCIQAlwaysLoad=ai),ws(),el&&(CIB.config.features.enableChatIconClickable=el),hl&&(CIB.config.features.enableChatQueryClickable=hl),cl&&(CIB.config.features.enableChatQueryClickableV2=cl),ll&&(CIB.config.features.enableChatQueryClickableV3=ll),al&&(CIB.config.features.enableChatQueryClickableV4=al),CIB.config.features.enableSharedNotebook=!t(ct.disableShareLinkShowntbk,!1),vl&&(CIB.config.features.enableShareQuestionWithResponse=vl),yl&&(CIB.config.features.enableShareQuestionTitlePrefix=yl),pl&&(CIB.config.features.enableShareInlineAdsIframe=pl),wl&&(CIB.config.features.enableShareToMyBing=wl),wi&&(CIB.config.features.enableShareLinkPreviewForNative=wi),bl&&(CIB.config.features.enableShareOverlay=bl),dl&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=dl),gl&&(CIB.config.features.enableStandaloneUtility=gl),na&&(CIB.config.features.enableSidePanelBelowThreadSlot=na),ta&&(CIB.config.features.enableWelcomeCopilotProButton=ta,ra?CIB.config.features.enableCopilotProOverlay=ra:ua&&(CIB.config.features.enableCopilotProOverlayCloseButton=ua)),ia&&(CIB.config.features.enableCopilotProUpsellDimeV2=ia),fa&&(kb=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.getCopilotProSpectrumUrl,u),db=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.getCopilotProSpectrumUrlMobile,u),CIB.config.features.enableCopilotProSpectrumTemplate=fa,kb&&(CIB.config.links.getCopilotProSpectrumUrl=kb),db&&(CIB.config.links.getCopilotProSpectrumUrlMobile=db)),ea&&(CIB.config.features.enableCopilotProPersistentTemplate=ea,oa&&(CIB.config.strings.sydneyCopilotProPersistentTitle=oa),sa&&(CIB.config.strings.sydneyCopilotProPersistentSubTitle=sa)),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return plt.getJsonData(n)},nk&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),kr&&(CIB.config.sydney.request.traceId=kr),CIB.config.features.enableReducedRetries=t(ct===null||ct===void 0?void 0:ct.enableReducedRetries,!0),CIB.config.features.enableSpeechInput=sk,CIB.config.features.enableShare=ci,CIB.config.features.enableAnswerBridgeShare=hk,CIB.config.features.enableShareIframePostMessageLogs=ck,CIB.config.features.enableUnifiedNativeShareProvider=lk,CIB.config.features.enableMessageShareableSignalV2=ak,yk&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=oct,CIB.config.features.enableHoverCardAttributionFavicons=!0),sn&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),hn&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),dr&&(CIB.config.features.enableErrorInstrumentaton=dr),wu&&(CIB.config.features.enableSydImageCreate=wu),bu&&(CIB.config.features.enableSunoMusicCreate=bu),ku&&(CIB.config.features.enableSunoMusicInst=ku),dy&&(CIB.config.features.enableInlineComponents=dy),hs(),bs(dt),ss(),pk&&(CIB.config.features.enableAnsCardSfx=!0),wk&&(CIB.config.features.enableLikeSaveToBingPage=!0),dg&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),gg&&(fl||ti&&(fet||uet)?os():gi&&ult&&(vt||flt)&&(CIB.config.features.enablePrivacyConsentFormNonMuid=!0,tu())),oo&&(CIB.config.features.enableNoTrainingSettings=oo),ptt&&(CIB.config.features.enableDisposeOrphanedHosts=!0),wtt&&(CIB.config.features.enablePreserveTextFormat=!0),btt&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),gtt&&(CIB.config.features.enableCloudflareCaptcha=!0),nit&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),ytt&&(CIB.config.features.enableExportDocxWithFormat=!0),cft&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!rd,CIB.config.features.enableSecureSendFeedback=!ud,CIB.config.features.enableShareSemSerp=ed,CIB.config.features.enableShareCreator=od,CIB.config.features.enableFeedbackOnFinalized=fd,CIB.config.features.enableShareWithNoMargin=!tn,CIB.config.features.enableCreativeLandingPage=rn,CIB.config.features.enableServerLogMerging=un,CIB.config.features.enableMobileOneClickShare=fn,CIB.config.features.enableFeedbackInstrumentation=en,CIB.config.features.enableCopyButtonInstrumented=iit,CIB.config.features.enableShareOnHostMessage=ktt,CIB.config.features.enablePassBotGreetingInContext=!dtt,CIB.config.features.enableMobileKnowledgeCardOverlay=uit,CIB.config.features.enableCibOverlayForKnowledgeCard=fit,CIB.config.features.enableKCAdaptiveCardUpdate=eit,CIB.config.features.enableKCInChatClickThroughRequery=oit,CIB.config.features.enableNewAutoSuggestEndPoint=vit,CIB.config.features.enableNewTopicTooltip=urt,CIB.config.features.enableNewlineTooltip=frt,CIB.config.features.enableAcAnchorUnderline=ert,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=git,CIB.config.features.enableOnProcessingStartEvent=nrt,CIB.config.features.enableOnProcessingCompleteEvent=trt,ao(ct,dt),CIB.config.features.enableThreadsAadMsaSwitch=bg,CIB.config.messaging.isAccountLinkedAadUser=wg,CIB.config.features.enableFastChatLoadAnimation=grt,CIB.config.features.enableShareInThreadsHeader=nut,CIB.config.features.enableNewConversationActivate=tut,sv&&(CIB.config.features.enableThreadsTopRightButton=iet,ii&&(CIB.config.features.enableThreadsTopRightButton||ret)&&(CIB.config.features.enableThreadsTopRightButton=!0,CIB.config.features.enablePluginsTopRightButton=!0)),CIB.config.features.enablePluginRevocation=got,CIB.config.features.enableSearchPlugins=nst,(hit||cit||lit)&&(CIB.config.features.enableWelcomeScreen=hv,CIB.config.features.enableWelcomeScreenItem=!hv),cv&&(CIB.config.features.disableZIRMSStart=cv),dv&&SydWelcomeScreen.isEduStarterEnabled()&&(CIB.config.features.enableWelcomeScreen=!0,CIB.config.features.enableWelcomeScreenItem=!0),tit&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0,ol()),CIB.config.features.secureConversation=hd,CIB.config.features.enableAffinityInstance=cd,du&&(CIB.config.features.enableAutomaticReconnect=du,e(CIB.config.sydney.request.optionsSets,"machine_affinity"),e(CIB.config.sydney.request.optionsSets,"streamf")),CIB.config.features.enableSSEFallback=ad,CIB.config.features.enableSSE=ld,gu&&(CIB.config.sydney.baseUrlForSSE=gu),nf&&(CIB.config.sydney.pathBaseForSSE=nf),tf&&(CIB.config.features.enableGetMessagesHub=tf),vg&&(CIB.config.features.enableNewTopicAutoExpand=!0),pg&&(hlt=t(ct===null||ct===void 0?void 0:ct.amberTurnPerConversation,0),CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=hlt),yg&&(clt=t(ct===null||ct===void 0?void 0:ct.enableMaxTurnsFromBackend,!0),llt=t(ct===null||ct===void 0?void 0:ct.maxTurnsPerConversationMuidUser,lt),alt=t(ct===null||ct===void 0?void 0:ct.maxTurnsPerConversation,lt),CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.features.enableMaxTurnsFromBackend=clt,CIB.config.messaging.maxTurnsPerConversation=fl?llt:alt),bd&&(CIB.config.sydney.request.Participant={Id:"1"}),yf&&(CIB.config.features.enablePerfTracker=yf),kd&&(CIB.config.features.enableEmbeddedPerf=!0),bf&&(CIB.config.features.enableSinglePerfEventPerMessage=bf),dd&&(CIB.config.features.enableE2EPerf=!0),CIB.config.features.enableCIBBootstrapper=gd,CIB.config.features.enableFixForTextSelectionFlickering=ng,(tg||dt)&&(CIB.config.features.enableCCPPerf=!0),kf&&(CIB.config.features.enableVisibilityPerfFix=kf),ne&&(CIB.config.features.enableRedirectToLoginUrl=ne),te&&(CIB.config.features.enableNewChatIconInActionBar=te),ie&&(CIB.config.features.enableActionBarV2=ie),re&&(CIB.config.features.enableSpeechDictationBridgeMode=re),ue&&(CIB.config.features.enableNativeEchoCancellation=ue),CIB.config.features.enableTranslateForBotMessage=ig,ee&&(CIB.config.features.enableReadAloudMessage=ee),oe&&(CIB.config.features.enableReadAloudOptions=oe,er=parseInt(sj_cook.get(n.userCook,pi)),er>=0&&er<=2&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{readAloud:er}))),se&&(CIB.config.features.enableReadAloudOnDeepLeoOnly=se),he&&(CIB.config.features.enableReadAloudFixV1=he),vlt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,de),fu(vlt),ce&&(CIB.config.features.enableSpeechLogNoiseReduction=ce),le&&(CIB.config.features.enableAutoReopenMicTTSStopped=le),ae&&(CIB.config.features.enableAltVoiceQuerySubmissionOnMobileABV2=ae),eg&&(ui=ec(),(ui==="3g"||ui==="2g"||ui==="slow-2g")&&(i(r.System,"NetworkConnection","Codex",ui),e(CIB.config.sydney.request.optionsSets,"uquopt"),ou(CIB.config.sydney.request.sliceIds,"ttsq48"))),ve&&(CIB.config.features.enableMockMicListeningState=ve),ye&&(CIB.config.features.enableMockMicBlockedState=ye),CIB.config.features.enableAutoStopSpeechRecogIfInvisible=og,pe&&(CIB.config.features.enableUndefinedToListeningAnimation=pe),ge&&(CIB.config.features.enableUniversalInput=ge),fo&&(CIB.config.features.enableSpeechAudioContextPlayback=fo),rg&&(CIB.config.speech.micPermissionProvider=function(){return{}}),kg&&(CIB.config.features.enableSafeSearchSetting=!0,ph()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=nn,on&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),so&&(CIB.config.features.enableOneClickCopy=so),ho&&(CIB.config.features.enableReorderCopiedTextReferences=ho),co&&(CIB.config.features.enableCodeCopy=co),ns&&(CIB.config.features.enableCodeBar=ns),ts&&(CIB.config.features.enableCodeBarV2=ts),rs&&(CIB.config.features.enableUserMessageCopy=rs),us&&(CIB.config.features.enableRichTextPaste=us),fs&&(CIB.config.features.enablePasteMarkdownTable=fs),es&&(CIB.config.features.enablePasteMath=es),ls&&(CIB.config.features.enableInlineFeedback=ls),as&&(CIB.config.features.enableInlineFeedbackV2=as),vs&&(CIB.config.features.enableInlineFeedbackV21=vs),ys&&(CIB.config.features.enableFeedbackCollectMoreInfo=ys),ps&&(CIB.config.features.enableSerpFeedback=ps),ks&&(CIB.config.features.enableMessageSave=ks),ih&&(CIB.config.features.enableMoreOnBotMessageActionsBar=ih),ah&&(CIB.config.features.enableMessageExport=ah),vh&&(CIB.config.features.enableMessageExportWithPlainText=vh),yh&&(CIB.config.features.enableHandoffAPI=yh),wh&&(CIB.config.features.enableGetTokenInAdvance=wh),bh&&(CIB.config.features.enableRedirectUriFunction=bh),kh&&(CIB.config.features.enableMsalLocalStorageCache=kh),nc&&(CIB.config.features.enableMsalDifferentAuthority=nc),tc&&(CIB.config.features.enableMsalStoreAuthInCookie=tc),ic&&(CIB.config.features.enableSearchOnBingForBotMessage=ic),rc&&(CIB.config.features.enableSearchIconForSearchOnBing=rc),uc&&(CIB.config.features.enableScopeRowForTable=uc),fc&&(CIB.config.features.enableMarkdownTableV2=fc),sc&&(CIB.config.features.enableMessageExportOnlineWord=sc),hc&&(CIB.config.features.enableMessageExportOnlineExcel=hc),oc&&(CIB.config.features.enableExportBlockDialog=oc),bc&&(CIB.config.features.enableTonePreview=bc),kp&&(CIB.config.features.disableTitlePreviewLabel=kp),dp&&(CIB.config.features.disableTurnCount=dp),CIB.config.features.enableSearchOnBingInLinkHoverCard=cn,CIB.config.features.enableLearnMoreCitationWithArrow=ln,CIB.config.features.enablePromotionItemCitationWithArrow=an,CIB.config.features.enableLinkCitationWithArrow=vn,CIB.config.features.enableMessageExportWord=yn,CIB.config.features.enableThreadExportLocalWord=pn,cc&&(CIB.config.features.enableMessageExportLocalExcel=cc),lc&&(CIB.config.features.enableTableBarFlatActions=lc),ac&&(CIB.config.features.enableThreadExportOnlineWord=ac),vc&&(CIB.config.features.enableMessageExportV2=vc),yc&&(CIB.config.features.enableBotMessageActionsBar=yc),pc&&(CIB.config.features.enableShorterToastDuration=pc),wc&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=wc),kc&&(CIB.config.features.enableMSAuth1stPartyApp=kc),dc&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=dc),gc&&(CIB.config.features.enableCopyHtml=gc),nl&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=nl),tl&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=tl),il&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=il),rl&&(CIB.config.features.enableLibrariesSplitImport=rl),ul&&(CIB.config.features.enableFlatActionBar=ul),ov&&(CIB.config.features.enableStartPromotion=ov),ev&&(CIB.config.features.enableThreadContextMenu=ev),ha&&(CIB.config.features.enableNewTables=ha,CIB.config.messaging.tableVersion=dn),ca&&(CIB.config.features.enableBufferMessage=ca),la&&(CIB.config.features.enableBufferLoadingDots=la),va&&(CIB.config.features.enableCodeInterpreterPreviewCode=va),bi&&(CIB.config.features.enableGptForMobileBrowser=bi,CIB.config.features.enableGPTForMobileBrowser=bi),ya&&(CIB.config.features.enable3PGptForMobileBrowser=ya),aa&&(CIB.config.features.enableServerMetaText=aa),wa&&(CIB.config.features.enableGptCreatorItemContextMenuFor1P=wa),ba&&(CIB.config.features.enableGptCreatorDeprecationAlert=ba),nv&&(CIB.config.features.enableMock3PGpts=nv),tv&&(CIB.config.features.enableGPTCreatorCreateGptPreview=tv),ntt&&(CIB.config.features.enableGptWelcomeInitLoad=!0),ett&&(CIB.config.features.enableCopilotCharacter=!0,CIB.config.features.enableEmoteJSErrorFix=ott,CIB.config.features.enableCharacterLipSync=stt,CIB.config.features.enableCharacterTap=htt,CIB.config.copilotCharacter&&(CIB.config.copilotCharacter.emoteDriverJsUrl=ltt,CIB.config.copilotCharacter.emotePlayerJsUrl=att,CIB.config.copilotCharacter.animatedImageUrlForMobileWelcomeScreen=vtt,ctt&&(CIB.config.copilotCharacter.characterModelFolderPath=location.origin+"/CodexAnimations/CodexCharacterAnimations/EmoteModels/"))),ttt&&(CIB.config.features.enableGptBuilderAction=!0),iw&&gn&&dt&&(gt||wt&&ww)&&(CIB.config.features.enableGPTCreator=!0,CIB.config.features.enableExtraExtensionParams=!0,itt&&(CIB.config.features.enableThreads=!1,CIB.config.features.enableIconUpload=wht,CIB.config.features.enableIconGenerated=bht,CIB.config.features.enableIconExternalStorage=kht,CIB.config.features.enableGptCreatorPreviewAutoSave=rtt,CIB.config.features.enableGptBuilderBottomBackgroundForCreatePanel=utt,CIB.config.features.enableOrderForCustomGreetings=ftt,CIB.config.features.enableGptCreatorEmptyDescriptionError=dht,CIB.config.features.disableVisualSearchCheck=tct,CIB.config.features.enableGptCreatorConfigurePanelCodeInterpreter=pht)),CIB.config.gptCreator&&(yt=window.location.origin,fi=yt.includes("bing.com"),CIB.config.gptCreator.gptCreatorCreatorUrl=yt+ka,CIB.config.gptCreator.creatorUrl=yt+ka,CIB.config.gptCreator.gptCreatorPreviewUrl=yt+(fi?da:""),CIB.config.gptCreator.previewUrl=yt+(fi?da:""),CIB.config.gptCreator.gptCreatorShareUrl=yt+(fi?ga:""),CIB.config.gptCreator.shareUrl=yt+(fi?ga:""),CIB.config.gptCreator.imageCreateAppID="3A94CC512C67BC6591C1F88594FBDB53481B8505",CIB.config.gptCreator.visualSearchAppID="23C2EDAB5DEC0DB471849B707155F587E52D0E1B",CIB.config.gptCreator.userAnID=nct),av&&(CIB.config.features.enableMessagePrivacy=av),CIB.config.features.enableNoSecondaryUseMessagePrivacy=bit,vv&&(CIB.config.features.enableCloseShareOnClickOutside=vv),kl&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=kl),fv&&(CIB.config.features.enableOptimizedStreaming=fv),kv&&(CIB.config.features.enableSydneyGetMessagesHub=kv),yv&&(CIB.config.features.enableUpdateProfile=yv),ry&&(CIB.config.features.enableSuppressSigninMessage=ry),iy&&(CIB.config.features.enableOpenEdgeNotification=iy),CIB.config.features.enableSettingsToggle=aft,CIB.config.features.enableSettingPositionTop=vft,CIB.config.features.enableTurboTone=yft,CIB.config.features.enableCitationsOnSentences=get,po(),CIB.config.features.enableConversationIdQueryParameter=nlt,wo(),CIB.config.features.enableTopAlignConversation=wst,CIB.config.features.enableHideZeroTurn=bst,CIB.config.features.enableMessageGroupHeader=kst,CIB.config.features.enableFullWidthMessages=dst,CIB.config.features.enableInlineStreamingIndicator=gst,CIB.config.features.enableAttributionsV2MoreButton=uct,CIB.config.features.enable2TScrollToBottom=fct,CIB.config.features.enableAdaptiveCardImageForCodeInterpreter=iht,CIB.config.features.enableThreadZiFix=cct,CIB.config.features.enableDeleteAllThreads=lct,CIB.config.features.enableCodePreviewInFooter=rht,CIB.config.features.enableProgressMessageForBce=uht,CIB.config.features.enableStackedSuggestionChips=fht,CIB.config.features.enableLoadConvTheme=sht,CIB.config.features.enableEarlyCancellations=hht,CIB.config.features.enableRegisterContextAsync=cht,CIB.config.features.enableEdgeContextualPlugin=lht,CIB.config.features.enableShorelineStrongStyle=aht,yht)CIB.onModeChanged(function(n){switch(n){case"off-stage":CIB.config.features.enableStreamingInBackground=!1;break;default:CIB.config.features.enableStreamingInBackground=!0}});else CIB.config.features.enableStreamingInBackground=vht;if(CIB.config.features.enableCitationSuperscriptFix=pst,CIB.config.features.enableAnswerCards=not,yw&&(CIB.config.features.enableNoTrainNotification=yw,CIB.config.messaging.noTrainingNoticeVisitCountIncrement=out),hp&&(CIB.config.features.enableThreadsHoverDescriptor=hp),cp&&(CIB.config.features.enableMessagesWithInternalLoadAnimation=cp),lp&&(CIB.config.features.enableHideRAISuggestionIcon=lp),ap&&(CIB.config.features.enableMuidDisabledSuggestionBar=ap),vp&&(CIB.config.features.enableHideSuggestionOnErrors=vp),yp&&(CIB.config.features.enableConversationToActionBarFocusOrder=yp),np&&(CIB.config.features.enableWelcomeItemEnterAnimation=np),tp&&(CIB.config.features.enableToneSelectorAsDropdown=tp),ip&&(CIB.config.features.enableSidePanelPositionInlineStart=ip),rp&&(CIB.config.features.enableSidePanelAsPersistent=rp),up&&(CIB.config.features.enableSidePanelVisibilityTrigger=up),fp&&(CIB.config.features.enableSidePanelCustomScrollbar=fp),ep&&(CIB.config.features.enableConversationCustomScrollbar=ep),op&&(CIB.config.features.enableConversationAlignmentTop=op),sp&&(CIB.config.features.enableSimpleCopilotWelcomeScreen=sp),uy&&(CIB.config.features.enableExportPdfWithRichFormat=uy),fh(),sy&&(CIB.config.features.enableThreadContextMenuV2=sy),hy&&(CIB.config.features.enableSearchBoxAutoFocus=hy),cy&&(CIB.config.features.enableUserMessageRewriteInsteadOfCopy=cy),ly&&(CIB.config.features.enableUserMessageRewriteAndCopy=ly),ay&&(CIB.config.features.enableSendFeedback=ay),vy&&(CIB.config.features.enableSearchUserMessageOnBing=vy),yy&&(CIB.config.features.enableEditLastUserMessage=yy),py&&(CIB.config.features.enableHideLastUserMessageInEdit=py),pp&&(CIB.config.features.enableBufferClearOnReset=pp),wp&&(CIB.config.features.enableCancelPendingRequestOnNewMessage=wp),tw&&(CIB.config.features.enableGraphicArtJsonResponse=tw),fw&&(CIB.config.features.enableInstService=fw),ew!==""&&(CIB.config.bing.feedbackVertical=ew),nb&&(CIB.config.features.enableStopStreamingSignal=nb),ib&&(CIB.config.features.enableTasksMessage=ib),rb&&(CIB.config.features.enableInlineButtonAdaptiveCardUpdate=rb),(ub||pct)&&(CIB.config.features.disableActionBarToolTip=!0),ub&&(CIB.config.features.enableOneStepPhotoUploadForVisualSearch=!0),yst&&(CIB.config.captcha.baseUrl=uk),CIB.config.features.enableStartOfSessionFix=ect,CIB.config.features.partnerId=tb,CIB.config.windchime&&(CIB.config.windchime.partnerId=tb),CIB.config.features.enableHostedContentToneSignal=sct,CIB.config.features.enableHostedContentPartnerSignal=hct,eh(),sh(),hh(),oh(),bv&&(CIB.config.features.enableBackendExportService=bv),ds(),lv&&(CIB.config.features.enableContextMessage=lv),ei=t(ct===null||ct===void 0?void 0:ct.codexOptionsSetsList,null),ei&&ei.length>0)for(or=0;or<ei.length;or++)e(CIB.config.sydney.request.optionsSets,ei[or].value);return(ch(),yit&&sl(wit,pit),eo&&(CIB.config.features.enableTelemetryPrivacy=eo),ki&&(CIB.config.features.enableWpFluxTwoTAnswerCard=ki,CIB.config.features.enableWpFluxTwoTAnswerCardFallback=ki,bet&&(CIB.config.features.enableWpFluxTwoTAnswerCardFallback=!1),e(CIB.config.sydney.request.optionsSets,"fluxv1"),e(CIB.config.sydney.request.optionsSets,"fluxmatch")),yr&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():ti&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs():ai&&typeof CustomerSydneyHelper!="undefined"&&CustomerSydneyHelper.setCiqCIQConfig(),!(!yr&&!fk))?[3,4]:(!kot&&eht)?[4,ru()]:[3,2];case 1:return wlt.sent(),[3,3];case 2:ru();wlt.label=3;case 3:lh();wlt.label=4;case 4:return krt&&(CIB.config.features.enablePersistentInputText=!0),wv&&(CIB.config.features.enableEmptyThreadTime=wv),fy&&(CIB.config.features.enableThreadsConsent=fy,CIB.config.features.enableMutedThreadsConsent=tet),ey&&(ylt=t(ct===null||ct===void 0?void 0:ct.threadsAutoSaveOptionset,k),CIB.config.features.enableDeleteSingleConversationMemory=ey,CIB.config.sydney.request.conversationHistoryOptionsSets=s((ht=CIB.config.sydney.request.conversationHistoryOptionsSets)!==null&&ht!==void 0?ht:[],""+ylt+",savemem,uprofupd,uprofgen")),oy&&(CIB.config.features.enable1DSTelemetry=oy),wy&&(CIB.config.features.enablePrivateThreadDefaultTitle=wy),by&&(CIB.config.features.enablePromptHandling=by),eet&&e(CIB.config.sydney.request.optionsSets,"u18scenario"),ky&&(CIB.config.features.enableModeAndSlotValidationForAds=ky),gy&&(CIB.config.features.enableSuggestionChipDisplayText=gy),dh(),go(),het&&gh(),ght&&(CIB.config.features.enablePublishedGptProvenance=!0),iw&&(CIB.config.features.enableFreeSydney=!0,CIB.config.gptCreator&&(CIB.config.gptCreator.maxSidePanelPersonasCount=sot),rw&&(CIB.config.features.enableShortShareUrl=rw),(gt||ww&&wt)&&(CIB.config.features.enableExtraExtensionParams=!0),oot&&(CIB.config.features.enableCustomGptSpecialGreeting=!0),iv&&(CIB.config.features.disableSuggestionsInCustomGpt=iv),rv&&(CIB.config.features.enableThreadsForAllGpts=rv),uv&&(CIB.config.features.enableBingGptUploadFileAPI=uv),pa&&(CIB.config.features.enableGptForMobileUnderside=pa)),ow&&(CIB.config.features.enableEnterToCreateNewLine=ow),CIB.config.features.enableUpdateLocationButton=ist,CIB.config.features.enableLocationMetaMessage=rst,CIB.config.features.enableNavigatorPermissionCheck=ust,CIB.config.features.enablePromptDirectlyForLocation=fst,sw&&(CIB.config.features.enableTextMessageDelayedFinalization=sw),hw&&(CIB.config.features.enableNewTopicButtonFeature=hw),kw&&(CIB.config.features.enableThumbsDownToSearchOnBing=kw),cw&&(CIB.config.features.enableChangeSidePanelVisibility=cw),dw&&(CIB.config.features.enableThreadContextMenuA11yBugFix=dw),gw&&(CIB.config.features.enableStopRespondingFocus=gw),fb&&(CIB.config.features.enableFeedbackCaptureFix=fb),di&&(CIB.config.features.enableSerpFeedbackAlias=di,(wt||vt)&&(CIB.config.features.enableSerpFeedbackContactMe=di)),eb&&(CIB.config.features.enableSerpFeedbackDialogV2=eb),CIB.config.features.disableTurnCountLocalAccount=!1,!ast||gt||!lw||vt||wt||(kt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),kt&&(CIB.config.features.disableTurnCountLocalAccount=!0)),CIB.config.features.enableHiddenTurnCountLocalAccount=!1,!vst||gt||!lw||vt||wt||(kt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),kt&&(CIB.config.features.enableHiddenTurnCountLocalAccount=!0)),pw&&(CIB.config.features.enablePreProactivePanelPosition=pw),CIB.config.links.locationLearnMore=ilt,lo(si),vo(),[2]}})})}function lo(n){var u,f,e,o,s,h,c,l;n&&i(r.System,"ConfigsSet","Codex");l=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCCP,!1);l&&i(r.System,"isCCP","Codex");var v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableUserInfoLogging,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isStudentUser,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isMinorStudentUser,!1),a=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isTeenageStudentUser,!1),w=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForFaculty,!1),b=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isBingChatForStudents,!1);(v||a)&&i(r.System,"UserInfo","Codex",{isBCSFaculty:w,isBCSStudent:b,isTeenageStudent:a,isMinorStudent:p,isStudent:y})}function ao(n,i){var r=t(n===null||n===void 0?void 0:n.enableDynamicMaxMessageLength,!0),u=t(n===null||n===void 0?void 0:n.maxMessageLengthBalancedPro,4e3),f=t(n===null||n===void 0?void 0:n.maxMessageLengthCreativePro,16e3),e=t(n===null||n===void 0?void 0:n.maxMessageLengthPrecisePro,16e3),o=t(n===null||n===void 0?void 0:n.maxMessageLengthBalanced,4e3),s=t(n===null||n===void 0?void 0:n.maxMessageLengthCreative,8e3),h=t(n===null||n===void 0?void 0:n.maxMessageLengthPrecise,8e3);r&&(CIB.config.features.enableDynamicMaxMessageLength=!0,CIB.config.messaging.maxMessageLengthBalanced=i?u:o,CIB.config.messaging.maxMessageLengthCreative=i?f:s,CIB.config.messaging.maxMessageLengthPrecise=i?e:h)}function vo(){var n,t,i;(i=(t=(n=CIB.vm.conversation)===null||n===void 0?void 0:n.sidePanel)===null||t===void 0?void 0:t.pluginPanel)===null||i===void 0?void 0:i.onPluginsLoaded(function(){var n,t,i,r,u,f,e,o;if(((t=(n=CIB.config)===null||n===void 0?void 0:n.features)===null||t===void 0?void 0:t.enablePhonePlugin)||((r=(i=CIB.config)===null||i===void 0?void 0:i.features)===null||r===void 0?void 0:r.enablePhonePluginCatalog)){var h=new URLSearchParams(window.location.search),c=h.get("enablephone")==="1",s=(f=(u=CIB.vm.config)===null||u===void 0?void 0:u.phone)===null||f===void 0?void 0:f.getPluginId(CIB.config);c&&s&&((o=(e=CIB.vm.sidePanel)===null||e===void 0?void 0:e.pluginPanel)===null||o===void 0?void 0:o.togglePlugin(s,!0))}})}function yo(u){var o=t(u===null||u===void 0?void 0:u.enableAutoDetectLanguageNotificationTest,!1),s=t(u===null||u===void 0?void 0:u.enableSpeechAutoDetectLanguage,!0),h=t(u===null||u===void 0?void 0:u.enableAutoDetectLanguageNotification,!0),f,e;s&&(f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ki),f&&f!="1"?f=="0"&&(CIB.config.speech.query.autodetect="0"):(CIB.config.speech.query.autodetect="1",CIB.config.features.enableSpeechAutoDetectLanguage=s,(o||h)&&(e=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,di),(o||!e||e!=="1")&&(CIB.config.features.enableSpeechAutoDetectLanguageEvent=!0,g=!0,CIB.config.speech.shouldShowAutoDetectSettingNotification=function(){i(r.System,"ShouldShowVoiceAutoDetectNotification","Voice",{isShown:g?"1":"0"});var t=g;return t&&sj_cook.set(n.userCook,di,"1",!0,"/",null),g=!1,t},CIB.config.speech.onAutoDetectSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceAutoDetectSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,ki,u,!0,"/",null)}))))}function po(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enablePrefetchForMicMode,!0),r=t(n===null||n===void 0?void 0:n.enablePrefetchForNonMicMode,!0),u=t(n===null||n===void 0?void 0:n.enablePrefetchConversationToken,!0),f=t(n===null||n===void 0?void 0:n.enableConnectionProvider,!1),e=t(n===null||n===void 0?void 0:n.enableLogTextMessageSendAfterConnection,!1),o=t(n===null||n===void 0?void 0:n.enableFixDuplicateTextMessageSend,!1),s=t(n===null||n===void 0?void 0:n.enableFixDuplicateTextMessageSendAutoRecovery,!1);CIB.config.features.enablePrefetchForMicMode=i;CIB.config.features.enablePrefetchForNonMicMode=r;CIB.config.features.enablePrefetchConversationToken=u;CIB.config.features.enableConnectionProvider=f;CIB.config.features.enableLogTextMessageSendAfterConnection=e;CIB.config.features.enableFixDuplicateTextMessageSend=o;CIB.config.features.enableFixDuplicateTextMessageSendAutoRecovery=s}function wo(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableGoldilocks,!0),r=t(n===null||n===void 0?void 0:n.enableGoldilocksRAIButton,!0),u=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes,!0),f=t(n===null||n===void 0?void 0:n.enableGoldiLocksBackgroundLight,!1),e=t(n===null||n===void 0?void 0:n.enableGoldilocksLineHeight,!0),o=t(n===null||n===void 0?void 0:n.enableGoldilocksMetaMessage,!0),s=t(n===null||n===void 0?void 0:n.enableGoldilocksAttributionPills,!0),h=t(n===null||n===void 0?void 0:n.enableGoldilocksMessageActions,!0),c=t(n===null||n===void 0?void 0:n.enableGoldilocksTurnCounter,!0),l=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes2T,!0),a=t(n===null||n===void 0?void 0:n.enableGoldilocksCitations,!0),v=t(n===null||n===void 0?void 0:n.enableGoldilocksWiderActionBar,!0),y=t(n===null||n===void 0?void 0:n.enableGoldilocksExportDropdown,!0),p=t(n===null||n===void 0?void 0:n.enableGoldilocksInlineFeedback,!0),w=t(n===null||n===void 0?void 0:n.enableGoldilocksUserMsgActionBar,!0),b=t(n===null||n===void 0?void 0:n.enableGoldilocksContextual,!0),it=t(n===null||n===void 0?void 0:n.enableGoldilocksSydneyAction,!0),k=t(n===null||n===void 0?void 0:n.enableGoldilocksPersistentMetas,!1),d=t(n===null||n===void 0?void 0:n.enableGoldilocksInlinePersistentMetas,!0),g=t(n===null||n===void 0?void 0:n.enableGoldilocksIdentity,!1),nt=t(n===null||n===void 0?void 0:n.enableGoldilocksCopilotGreetingFix,!0),tt=t(n===null||n===void 0?void 0:n.enableGoldilocksMuidConsent,!1);CIB.config.features.enableUserMsgActionBar=w;CIB.config.features.enableGoldilocks=i;CIB.config.features.enableGoldilocksRAIButton=r;CIB.config.features.enableGoldilocksStrokes=u;CIB.config.features.enableGoldiLocksBackgroundLight=f;CIB.config.features.enableGoldilocksLineHeight=e;CIB.config.features.enableGoldilocksMetaMessage=o;CIB.config.features.enableGoldilocksAttributionPills=s;CIB.config.features.enableGoldilocksMessageActions=h;CIB.config.features.enableGoldilocksTurnCounter=c;CIB.config.features.enableGoldilocksStrokes2T=l;CIB.config.features.enableGoldilocksCitations=a;CIB.config.features.enableGoldilocksWiderActionBar=v;CIB.config.features.enableGoldilocksExportDropdown=y;CIB.config.features.enableGoldilocksInlineFeedback=p;CIB.config.features.enableGoldilocksContextual=b;CIB.config.features.enableGoldilocksPersistentMetas=k;CIB.config.features.enableGoldilocksInlinePersistentMetas=d;CIB.config.features.enableGoldilocksBackgroundGpt=!1;CIB.config.features.enableGoldilocksIdentity=g;CIB.config.features.enableGoldilocksCopilotGreetingFix=nt;CIB.config.features.enableGoldilocksMuidConsent=tt}function bo(){var n,t=(n=window===null||window===void 0?void 0:window.location)===null||n===void 0?void 0:n.origin;return t?t:yf}function ko(t,u){if(t||u){var f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ir);(u||!f||f!=="1")&&(nt=!0,CIB.config.speech.shouldReopenMicNotification=function(){i(r.System,"ShouldShowReopenMicNotification ","Voice",{isShown:nt?"1":"0"});var t=nt;return t&&sj_cook.set(n.userCook,ir,"1",!0,"/",null),nt=!1,t},CIB.config.speech.onReopenMicSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceReopenSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,tr,u,!0,"/",null)})}}function go(){if(CIB.onResetConversation)CIB.onResetConversation(function(){i(r.System,"ResetConversationTriggered","ChatMode","1")})}function pr(){var f=this,i,r,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydTestHelper,!1);(u||e)&&"SydneyTestHelper"in _w&&(SydneyTestHelper.setTestConfigs(u),u&&sj_evt.bind("CHAT_MOCKED",function(t){var i=t&&t.length>1?t[1]:null;i&&(n.processCachedResponseUsingCIB=function(){return __awaiter(f,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return SydneyTestHelper.shouldWaitForAnswerScript()?[4,SydneyTestHelper.getAnswerScriptDefer().p]:[3,2];case 1:n.sent();n.label=2;case 2:return ts(i),[2]}})})})},!0))}function ns(){var n,i,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.modelSelector,u),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableModelSelector,!1),r;if(e){CIB.config.features.enableModelSelector=!0;try{r=JSON.parse(f);CIB.config.modelSelector?(CIB.config.modelSelector.modelList=r.modelList,CIB.config.modelSelector.defaultModelKey=r.defaultModelKey):CIB.config.features.enableModelSelector=!1}catch(o){CIB.config.features.enableModelSelector=!1}}}function ts(n){var i,r,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableLoopNotebook,!1),f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookMode,!1),e=new URLSearchParams(window.location.search),o=e.get("showntbk")==="1";u&&f&&o?sj_evt.bind("NotebookLoopInitialized",function(){CIB.processCachedResponse(n)},!0):CIB.processCachedResponse(n)}function is(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableInPrivateUserMode,!1),f=t(n===null||n===void 0?void 0:n.enableCopilotFullScreenUX,!1),e=t(n===null||n===void 0?void 0:n.enableNoScrollDownOnInit,!1),o=t(n===null||n===void 0?void 0:n.enableFormCodeBingUrl,!0),s=t(n===null||n===void 0?void 0:n.enableRelativeSignInUrl,!0),u=t(n===null||n===void 0?void 0:n.enableSuggestionItemEnterAnimation,!1),h=t(n===null||n===void 0?void 0:n.enableWowCDSSurvey,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isHeaderBackButtonEnabled,!1);r&&(CIB.config.features.enableInPrivateUserMode=r);f&&(CIB.config.mobile.isFullScreenEnabled=!0,CIB.config.features.enableThreadsPreview=!1,CIB.config.mobile.isHeaderBackButtonEnabled=c?!0:!1,CIB.config.features.enableThreadsHistoryIcon=!0);e&&(CIB.config.features.enableNoScrollDownOnInit=!0);o&&(CIB.config.features.enableFormCodeBingUrl=!0);s&&(CIB.config.bing.signIn.baseUrl=window.location.origin);u&&(CIB.config.features.enableSuggestionItemEnterAnimation=u);h&&(CIB.config.features.enableWowCDSSurvey=!0);ns()}function wr(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,ye,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",wr)}function rs(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function br(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function kr(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function dr(){var n,t=(n=_G.Lang)!==null&&n!==void 0?n:"en",i=new URL("turing/convtranslation/".concat(t,".json"),window.location.origin);return i.href}function us(){var t,f=dr(),i=document.querySelector("head"),r,n,u;i&&typeof i.appendChild=="function"&&((r=_ge("sydtranslpre"),r)||(n=sj_ce("link"),n)&&((n.setAttribute("rel","prefetch"),n.setAttribute("href",f),n.setAttribute("as","fetch"),n.setAttribute("id","sydtranslpre"),u=(t=performance===null||performance===void 0?void 0:performance.getEntriesByName(n.href))===null||t===void 0?void 0:t.length,u>0)||i.appendChild(n)))}function fs(){var n;return __awaiter(this,void 0,void 0,function(){var t,i,r;return __generator(this,function(u){switch(u.label){case 0:t=(n=_G.Lang)!==null&&n!==void 0?n:"en";i=null;u.label=1;case 1:return u.trys.push([1,3,,4]),[4,es(t)];case 2:return i=u.sent(),i?(nu(i),[2,!0]):(gr(t),[2,!1]);case 3:return r=u.sent(),gr(t,r),[2,!1];case 4:return[2]}})})}function gr(n,t){var r,u,f,e;t===void 0&&(t=null);f={lang:n,locationOrigin:(r=_d===null||_d===void 0?void 0:_d.location)===null||r===void 0?void 0:r.origin,locationPath:(u=_d===null||_d===void 0?void 0:_d.location)===null||u===void 0?void 0:u.pathname};e=t==null?"SydneyTranslationAjaxError":"SydneyTranslationAjaxException";i("CI.Error",e,"TranslationJson",f)}function es(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(r){switch(r.label){case 0:return t=dr(),[4,fi(t,"","GET")];case 1:return(n=r.sent(),n===null||n===void 0?void 0:n.response)?(i=JSON.parse(n.response),_w._sydConvTranslation=__assign(__assign({},_w._sydConvTranslation),i),[2,_w._sydConvTranslation]):[2]}})})}function nu(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r]}function os(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.hideSignInUI,!1);CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=i?!1:!0;tu()}function tu(){var n,i,r,u,f,e,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableBfbCookieConsent,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!0),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCodexMuidConsentModal,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableCodexMuidConsentModalWelcome,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCodexMuidConsentRetrigger,!1),w=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableForceMuidConsent,!1),b=c||l||a||v;b&&(CIB.config.features.enableCodexMuidConsentTop=c,CIB.config.features.enableCodexMuidConsentInlineExplicit=l,CIB.config.features.enableCodexMuidConsentInlineImplicit=a,CIB.config.features.enableCodexMuidConsentModal=v,CIB.config.features.enableCodexMuidConsentModalWelcome=y,CIB.config.features.enableCodexMuidConsentRetrigger=p,CIB.config.sydney.muidUserConsentGiven=!w&&(h&&pt||uu()),CIB.onConsentGiven&&CIB.onConsentGiven(function(){kh();h&&BceSydneyHelper.updateBfbConsent()}))}function iu(){var n,i,r,u,f,o,s;return __awaiter(this,void 0,void 0,function(){var y,h,a,p,w,b,d,v,c,l,g,nt=this;return __generator(this,function(tt){switch(tt.label){case 0:if(y=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableThreads,!1),!y||or)return[2];if(or=!0,h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreadsConsent,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.threadsAutoSaveOptionset,k),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFetchUserConsent,!0),w=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableThreadsConsentOnlyAutosave,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableInlinePersonalizationConsentCallback,!1),d=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingUserSignedIn,!1),CIB.config.features.enableThreadsConsent=h,CIB.config.features.enableThreadsConsentOnlyAutosave=!!w,h&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(n){switch(n){case"Allowed":e(CIB.config.sydney.request.optionsSets,a);break;default:eu(CIB.config.sydney.request.optionsSets,a)}});return(h&&d&&(e(CIB.config.sydney.request.optionsSets,"enable_user_consent"),e(CIB.config.sydney.request.optionsSets,"fluxmemcst")),!(h&&p&&CIB.fetchConsent))?[3,2]:[4,CIB.fetchConsent()];case 1:return tt.sent(),[3,8];case 2:if(!(h&&CIB.getConsent&&CIB.updateConsent))return[3,8];tt.label=3;case 3:return tt.trys.push([3,7,,8]),[4,CIB.getConsent()];case 4:return(v=tt.sent(),c=v.consentSettings.autoSave,l=v.consentSettings.personalization,!(c&&l&&(c!=="Allowed"||l!=="Allowed")))?[3,6]:[4,CIB.updateConsent(c,l)];case 5:tt.sent();tt.label=6;case 6:return[3,8];case 7:return g=tt.sent(),[3,8];case 8:if(b&&CIB.onPersonalizationMessageRendered&&CIB.fetchConsent)CIB.onPersonalizationMessageRendered(function(){return __awaiter(nt,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,CIB.fetchConsent()];case 1:return n.sent(),[2]}})})});return[2]}})})}function ss(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableMultimediaSearch,!1),f=t(n===null||n===void 0?void 0:n.enableMultimediaSearchVideo,!1);if((r||f)&&((i=CIB.config.multimediaSearch)===null||i===void 0?void 0:i.query)){var c=t(n===null||n===void 0?void 0:n.isMobileHost,!1),e=t(n===null||n===void 0?void 0:n.multimediaSearchFormCode,"IACMIR"),o=t(n===null||n===void 0?void 0:n.multimediaSearchEnableMediaCanvas,!0),l=t(n===null||n===void 0?void 0:n.multimediaSearchMaxImageCount,5),a=t(n===null||n===void 0?void 0:n.multimediaSearchMaxVideoCount,3),v=t(n===null||n===void 0?void 0:n.multimediaSearchEnableCachedImages,!1),h=t(n===null||n===void 0?void 0:n.multimediaSearchOptionsSets,u);h&&(CIB.config.sydney.request.optionsSets=s(CIB.config.sydney.request.optionsSets,h));CIB.config.features.enableMultimediaSearch=r;CIB.config.features.enableMultimediaSearchVideo=f;CIB.config.multimediaSearch.maxImageCount=l;CIB.config.multimediaSearch.maxVideoCount=a;CIB.config.multimediaSearch.enableMediaCanvas=o;CIB.config.multimediaSearch.enableCachedImages=v;o&&c&&(CIB.config.multimediaSearch.query.view="detailV2",CIB.config.multimediaSearch.query.idpbck="1");e&&(CIB.config.multimediaSearch.query.form=e)}}function hs(){var n,i,r,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(ut){var ot=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),st=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),ht=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.aimgut,!1),ft=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.visualSearchSubscriptionId,"Bing.Chat.Multimodal"),ct=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.vsbtnicon,u),lt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.vsbtniconfill,u),at=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.eifpiab,!0),vt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.emwc,!1),yt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.eufte,!1),pt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.ecambar,!1),wt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.eaddimgbar,!1),bt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.eaddimgicon,!1),kt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.evsfre,!1),dt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.ekrbu,!1),gt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.evsptnr,!0),ni=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.evsdirurl,!0),ti=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.eimgsmkcard,!1),et=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.imgsmkptntype,""),ii=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.efhof,!0),ri=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.eprsusimg,!0),ui=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.edndimglog,!1);ot&&(CIB.config.features.enableCameraInputForVisualSearch=!1);st&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);dt&&(CIB.config.visualSearch.baseUrl=window.location.origin);CIB.config.features.enableVisualSearch=ut;CIB.config.features.enableImageFilePasteInActionBar=at;CIB.config.features.enableUnsupportedFileTypeError=yt;CIB.config.features.enableVisualSearchFRE=kt;CIB.config.features.enablePartnerVisualSearchUpload=gt;CIB.config.features.enableImageKnowledgeAnswerCards=ti;CIB.config.features.enableFlyoutHeaderOverlapFix=ii;CIB.config.features.enableProgressiveUnsanitizedUserImage=ri;CIB.config.visualSearch.allowImageOnlyUserTurn=ht;CIB.config.visualSearch.enableMobileWebCamera=vt;CIB.config.visualSearch.enableCameraInActionBar=pt;CIB.config.visualSearch.enableAttachImageInActionBar=wt;CIB.config.visualSearch.enableDragAndDropImageUrlLog=ui;CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot=ni;CIB.config.visualSearch.useImageAddIcon=bt;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;CIB.config.visualSearch.flyoutButtonIcon=ct;CIB.config.visualSearch.flyoutButtonFillIcon=lt;et&&((rt=CIB.config.imageKnowledge)===null||rt===void 0?void 0:rt.query)&&(CIB.config.imageKnowledge.query.ptntype=et);!ft||(CIB.config.visualSearch.subscriptionId=ft);vs();ys();ps()}}function cs(){var n,i,r,u,f,e,o,s,h,c;CIB.config.features.enableM365ConsumerPluginsCatalog=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableM365ConsumerPluginsCatalog,!1);CIB.config.features.enableM365ConsumerPluginHighPosition=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableM365ConsumerPluginHighPosition,!1);CIB.config.features.enableM365ConsumerPluginPrivacyProtection=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableM365ConsumerPluginPrivacyProtection,!1);CIB.config.features.enableM365AuthSkipSso=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableM365AuthSkipSso,!1);CIB.config.features.enableM365PluginsCustomData=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableM365PluginsCustomData,!1);CIB.config.features.enableM365OneDriveImageFilter=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableM365OneDriveImageFilter,!1);h=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableM365consumerPlugin,!1);c=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableM365ConsumerPluginOneDrive,!1);h&&(CIB.config.features.enableM365consumerPlugin=!0,ls());c&&(CIB.config.features.enableM365ConsumerPluginOneDrive=!0,as())}function ls(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");u&&(CIB.config.m365consumer.pluginAuth.redirectUri=u);CIB.config.m365consumer.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,ai)};CIB.config.m365consumer.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,li)};CIB.config.m365consumer.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365consumer.pluginAuth.showLoginPopup=!0;CIB.config.m365consumer.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOptionsSet,"flux_m365consumer")};CIB.config.m365consumer.pluginId=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerOutlookPluginId,"d03ca482-c3c8-4b7c-ace3-b52857208916");CIB.config.m365consumer.substrateTokenExpiryTimeInHours=8}function as(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");f&&(CIB.config.m365ConsumerOneDrive.pluginAuth.redirectUri=f);CIB.config.m365ConsumerOneDrive.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,ai)};CIB.config.m365ConsumerOneDrive.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,li)};CIB.config.m365ConsumerOneDrive.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365ConsumerOneDrive.pluginAuth.showLoginPopup=!0;CIB.config.m365ConsumerOneDrive.graphAuthScopes=[t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerPluginGraphScope,"Files.Read.All")];CIB.config.m365ConsumerOneDrive.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOneDriveOptionsSet,"flux_onedrive")};CIB.config.m365ConsumerOneDrive.pluginId=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.m365ConsumerOneDrivePluginId,"1e1a2734-7a88-4c1c-be1d-a79907b177c0");CIB.config.m365consumer.substrateTokenExpiryTimeInHours=8}function vs(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function ys(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function ps(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function ws(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFixCodeXAsBug,!0),gt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStableAutosuggestion,!0),ni=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableEndpointInASTelemetry,!1),ti=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAutosuggestMetrics,!0),ii=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCvidInAutosuggestAPI,!0),ri=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableAutoSuggestBackspaceFix,!1),ui=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableGhostingSuggestTelemetry,!0),fi=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableResetASProperties,!0),ei=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableKSPQPropertiesTracking,!0),oi=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableAutoSuggestPerfMetrics,!1),si=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAutoSuggestPerfMetricP50,!1),hi=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAutoSuggestPerfMetricP90,!1),ci=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAutoSuggestPerfMetricAvgLatency,!1),li=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAutoSuggestPerfMetricQFT,!1),ai=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableReduceDebouncingAutosuggest,!1),vi=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableCachingAutosuggest,!0),yi=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableAcceptSuggestionOnRightArrow,!1),pi=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableShowAutosuggestButton,!0),wi=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableASCookieCheckToDisableGhosting,!1),bi=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.maxCacheLength,to),ki=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableAutoSuggestMidQueryFix,!1),di=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableAutoSuggestPerfMetricBackendLatency,!1),gi=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableTrackingAutosuggestCacheHit,!1),nr=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableTrackingAutosuggestAcceptanceRate,!1),tr=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableTrackUserTypingSpeed,!1),ir=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableTrackUserAcceptanceRate,!1),rr=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableThresholdForTypingSpeed,!1),ur=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableSuggChipInAutoSuggest,!0),fr=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableAutoSuggestSlmCache,!1),er=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableAutoSuggestSlmPerfLatency,!1),or=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableThresholdAutosuggestLength,!1),sr=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.ghostedLengthThreshold,5),hr=t((at=_w._sydConvConfig)===null||at===void 0?void 0:at.refreshTriggerCount,100),cr=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.timeDifferenceThreshold,500),lr=t((yt=_w._sydConvConfig)===null||yt===void 0?void 0:yt.maxSlmCacheLength,io),ar=t((pt=_w._sydConvConfig)===null||pt===void 0?void 0:pt.minSlmTriggerWordCount,ro),vr=t((wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.enableLastUserMsgInAutoSuggest,!1),yr=t((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.minCtxSlmTriggerWordCount,uo),pr=t((kt=_w._sydConvConfig)===null||kt===void 0?void 0:kt.minSlmTriggerCharCount,fo);CIB.config.features.enableFixCodeXAsBug=dt;CIB.config.features.enableStableAutosuggestion=gt;CIB.config.features.enableEndpointInASTelemetry=ni;CIB.config.features.enableAutosuggestMetrics=ti;CIB.config.features.enableCvidInAutosuggestAPI=ii;CIB.config.features.enableAutoSuggestBackspaceFix=ri;CIB.config.features.enableGhostingSuggestTelemetry=ui;CIB.config.features.enableResetASProperties=fi;CIB.config.features.enableKSPQPropertiesTracking=ei;CIB.config.features.enableReduceDebouncingAutosuggest=ai;CIB.config.features.enableCachingAutosuggest=vi;CIB.config.features.enableAcceptSuggestionOnRightArrow=yi;CIB.config.features.enableShowAutosuggestButton=pi;CIB.config.features.enableASCookieCheckToDisableGhosting=wi;CIB.config.suggestions.maxCacheLength=bi;CIB.config.features.enableAutoSuggestMidQueryFix=ki;CIB.config.features.enableTrackUserTypingSpeed=tr;CIB.config.features.enableTrackUserAcceptanceRate=ir;CIB.config.features.enableThresholdForTypingSpeed=rr;CIB.config.features.enableSuggChipInAutoSuggest=ur;CIB.config.features.enableAutoSuggestSlmCache=fr;CIB.config.features.enableThresholdAutosuggestLength=or;CIB.config.features.ghostedLengthThreshold=sr;CIB.config.features.refreshTriggerCount=hr;CIB.config.features.timeDifferenceThreshold=cr;CIB.config.suggestions.maxSlmCacheLength=lr;CIB.config.suggestions.minSlmTriggerWordCount=ar;CIB.config.features.enableLastUserMsgInAutoSuggest=vr;CIB.config.suggestions.minCtxSlmTriggerWordCount=yr;CIB.config.suggestions.minSlmTriggerCharCount=pr;CIB.config.features.enableAutoSuggestPerfMetrics=oi;CIB.config.features.enableAutoSuggestPerfMetricP50=si;CIB.config.features.enableAutoSuggestPerfMetricP90=hi;CIB.config.features.enableAutoSuggestPerfMetricAvgLatency=ci;CIB.config.features.enableAutoSuggestPerfMetricQFT=li;CIB.config.features.enableAutoSuggestPerfMetricBackendLatency=di;CIB.config.features.enableTrackingAutosuggestCacheHit=gi;CIB.config.features.enableTrackingAutosuggestAcceptanceRate=nr;CIB.config.features.enableAutoSuggestSlmPerfLatency=er}function bs(n){var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,lt=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFileUpload,!1),at=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFileUploadPrivacyMessage,!1),vt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableMobileFileUpload,!1),yt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadWebPageUrlInput,!1),pt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFileUploadContextInThreads,!1),wt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableTextFilePasteInActionBar,!0),bt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableFileUploadForAllModes,!0),kt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableFileUploadDirect,!1),dt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableFileUploadOfficeFilesSupport,!1),gt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFileUploadAudioSupport,!1),ni=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableFileUploadPDFSupportByKED,!1),ti=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableFileUploadAnyTypeSupport,!1),ii=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.fileSizeLimitation,bf),ri=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.audioFileSizeLimitation,kf),st=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.fileSizeLimitationPro,df),ui=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.fileUploadFileNameLengthLimitation,gf),fi=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.fileMaxCountForGptCreator,ne),ei=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.fileMaxCountForChat,te),oi=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableFileUploadNewUploadFileAPI,!0),si=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.disableFileUploadOptionSets,!1),hi=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableSydFileUploadPartnerUpload,!0),ht=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableSydFileUploadMaxSizeTiers,!1),ci=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableSydFileUploadDynamicOptionSets,!1),li=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableFileUploadSydneyOptionSets,!1),ct=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.fileUploadAPIOptionsSets,ie),i,r;lt&&(CIB.config.features.enableFileUpload=!0,vt&&(CIB.config.features.enableMobileFileUpload=!0));at&&(CIB.config.features.enableFileUploadPrivacyMessage=!0);yt&&(CIB.config.features.enableFileUploadWebPageUrlInput=!0);pt&&(CIB.config.features.enableFileUploadContextInThreads=!0);wt&&(CIB.config.features.enableTextFilePasteInActionBar=!0);bt&&(CIB.config.features.enableFileUploadForAllModes=!0);kt&&(CIB.config.features.enableFileUploadDirect=!0);dt&&(CIB.config.features.enableFileUploadOfficeFilesSupport=!0,typeof CIB.config.features.enableFileUploadDocxSupport!="undefined"&&(CIB.config.features.enableFileUploadDocxSupport=!0));gt&&(CIB.config.features.enableFileUploadAudioSupport=!0);ni&&(CIB.config.features.enableFileUploadPDFSupportByKED=!0);ti&&(CIB.config.features.enableFileUploadAnyTypeSupport=!0);oi&&(CIB.config.features.enableSydneyUploadFileAPI=!0);hi&&(CIB.config.features.enablePartnerFileUpload=!0);si&&CIB.config.fileUpload&&(CIB.config.fileUpload.extraOptionsSetV2=[]);ci&&(CIB.config.fileUpload.extraOptionsSetV2=["ldsummary_d","ldqa_d","sdretrieval_d"]);li&&(CIB.config.features.enableFileUploadSydneyOptionSets=!0);ct&&(CIB.config.fileUpload.uploadFileAPIOptionsSets=ct);CIB.config.fileUpload&&(i=ht&&n?st:ii,r=ht&&n?st:ri,CIB.config.fileUpload.audioFileSizeLimitation=r,CIB.config.fileUpload.fileSizeLimitationLongContext=i,CIB.config.fileUpload.fileSizeLimitation=i,CIB.config.fileUpload.fileSizeLimitationForChat=i,CIB.config.fileUpload.audioFileSizeLimitationForChat=r,CIB.config.fileUpload.fileSizeLimitationForGptCreator=i,CIB.config.fileUpload.audioFileSizeLimitationForGptCreator=r,CIB.config.fileUpload.fileNameLengthLimitation=ui,CIB.config.fileUpload.fileMaxCountForGptCreator=fi,CIB.config.fileUpload.fileMaxCountForChat=ei,ks())}function ks(){var r,u,n=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.azureAIDocumentAnalysisFileExtensions,re),i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.audioFileExtensions,ue);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.features.enableFileUploadOfficeFilesSupport&&(CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions=[],n.forEach(function(n){CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions.push(n.value)}));(i===null||i===void 0?void 0:i.length)>0&&CIB.config.features.enableFileUploadAudioSupport&&(CIB.config.fileUpload.audioFileExtensions=[],i.forEach(function(n){CIB.config.fileUpload.audioFileExtensions.push(n.value)}))}function ds(){var f,o,s,h,c,l,a,v,y,p,w,b,d,g,nt,tt,rt=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableShareWholeThreadMockUp,!1),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),ft=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!0),et=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),ot=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),st=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!0),ht=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),ct=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!0),lt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableBICHistory,!0),at=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enable2TScreenshot,!1),vt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshotSnR,!1),it=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableThreads,!1),wt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreadsCF,!1),yt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableThreadsCopilotMobileUpsell,!1),n,u,pt;if(rt&&(CIB.config.features.enableShareWholeThreadMockUp=rt),ut&&(CIB.config.features.enableThreadShareLandingPage=ut),ft&&(CIB.config.features.enableShareConversation=ft),et&&(CIB.config.features.enableShareThreadWithNoCache=et),ot&&(CIB.config.features.enableWholeThreadPerformanceFix=ot),st&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=st),ht&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=ht),ct&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=ct),lt&&(CIB.config.features.enableBICHistory=lt),at&&(CIB.config.features.enableAnswerScreenshot=at),vt&&(CIB.config.features.enableAnswerScreenshotSnR=vt,CIB.config.sydney.request.conversationHistoryOptionsSets=e(CIB.config.sydney.request.conversationHistoryOptionsSets,"upshres")),yt&&(CIB.config.features.enableThreadsCopilotMobileUpsell=yt),it){if(CIB.config.features.enableThreads=it,n=t((nt=_w._sydThreads)===null||nt===void 0?void 0:nt.threads,null),n&&n.length>0)for(u=0;u<n.length;u++)CIB.addThread(n[u]);pt=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.threadsAutoSaveOptionset,k);e(CIB.config.sydney.request.optionsSets,pt)}(it||wt)&&i(r.System,"THREADS","1","1");CIB.config.sydney.request.scenario!=="SERP"&&iu()}function gs(){var n,i,r,u,f,e,o,s,h,c=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFullScreenUX,!1),l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCopilotDrawer,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isHeaderBackButtonEnabled,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isHeaderCloseButtonEnabled,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableActivityIconsFromContextMenu,!1),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHeaderBarReturnIcon,!1),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMobileLeftPanel,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableHideGPTsInSidePanel,!1),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableGoldiLocksV2Background,!1);c&&(CIB.config.mobile.isFullScreenEnabled=!0);l&&(CIB.config.features.enableCopilotDrawer=!0);v&&(CIB.config.features.isHeaderCloseButtonEnabled=!0);a&&(CIB.config.mobile.isHeaderBackButtonEnabled=!0);y&&(CIB.config.features.enableActivityIconsFromContextMenu=!0);p&&(CIB.config.features.disableHeaderBarReturnIcon=!0);w&&(CIB.config.features.enableMobileLeftPanel=!0);b&&(CIB.config.features.enableHideGPTsInSidePanel=!0);k&&(CIB.config.features.enableGoldiLocksV2Background=!0)}function nh(){var n=_w._sydConvConfig,i;CIB.config.features.enableRecoverConvNotebook=t(n===null||n===void 0?void 0:n.enableRecoverConvNotebook,!0);CIB.config.features.enableShiftEnterNotebook=t(n===null||n===void 0?void 0:n.enableShiftEnterNotebook,!1);CIB.config.features.enableAltNotebookIcons=t(n===null||n===void 0?void 0:n.enableAltNotebookIcons,!0);CIB.config.features.enableGoldilocksNotebook=t(n===null||n===void 0?void 0:n.enableGoldilocksNotebook,!0);CIB.config.features.enableNotebookVerticalLayout=t(n===null||n===void 0?void 0:n.enableNotebookVerticalLayout,!0);CIB.config.features.enableNotebookVerticalResizer=t(n===null||n===void 0?void 0:n.enableNotebookVerticalResizer,!0);CIB.config.features.enableNotebookMaxWidth=t(n===null||n===void 0?void 0:n.enableNotebookMaxWidth,!0);CIB.config.features.enableNotebookPrefilledQuery=t(n===null||n===void 0?void 0:n.enableNotebookPrefilledQuery,!1);CIB.config.features.enableInlineTwoTAnswerNotebook=t(n===null||n===void 0?void 0:n.enableInlineTwoTAnswerNotebook,!0);i=t(n===null||n===void 0?void 0:n.enableNotebookThreads,!1);CIB.config.features.enableNotebookThreads=i;i&&(document.body.dir=_G.RTL?"rtl":"ltr")}function th(){var n=_w._sydConvConfig,i,r;if(CIB.config.suggestions.isEnabled=t(n===null||n===void 0?void 0:n.enableAutoSuggest,!0),CIB.config.features.enableUserChatBubbles=t(n===null||n===void 0?void 0:n.enableUserChatBubbles,!1),CIB.config.features.enableSimplificationBackground=t(n===null||n===void 0?void 0:n.enableSimplificationBackground,!1),CIB.config.features.enableSuggestions=t(n===null||n===void 0?void 0:n.enableSuggestions,!0),CIB.config.features.enableBotMessageActionsBarV3=t(n===null||n===void 0?void 0:n.enableBotMessageActionsBarV3,!1),CIB.config.features.enableThumbFeedbackInOverflow=t(n===null||n===void 0?void 0:n.enableThumbFeedbackInOverflow,!1),CIB.config.features.enableChromaTheme=t(n===null||n===void 0?void 0:n.enableChromaTheme,!1),CIB.config.features.enableCircularTypingIndicator=t(n===null||n===void 0?void 0:n.enableCircularTypingIndicator,!1),CIB.config.features.enableFrostedConversationFades=t(n===null||n===void 0?void 0:n.enableFrostedConversationFades,!1),CIB.config.features.enableDynamicConversationBackground=t(n===null||n===void 0?void 0:n.enableDynamicConversationBackground,!1),CIB.config.features.enableConsistentDesktopTypography=t(n===null||n===void 0?void 0:n.enableConsistentDesktopTypography,!1),CIB.config.features.enableHeaderDesktop=t(n===null||n===void 0?void 0:n.enableHeaderDesktop,!1),CIB.config.features.enableToneSelectorInDesktopHeader=t(n===null||n===void 0?void 0:n.enableToneSelectorInDesktopHeader,!1),CIB.config.features.enableToneSelectorAsDropdown=t(n===null||n===void 0?void 0:n.enableToneSelectorAsDropdown,!1),CIB.config.features.enableCenteredGreetingZeroInput=t(n===null||n===void 0?void 0:n.enableCenteredGreetingZeroInput,!1),CIB.config.features.enableHeaderTitleDeferral=t(n===null||n===void 0?void 0:n.enableHeaderTitleDeferral,!1),CIB.config.features.enableAiDisclaimerWithFlexWrap=t(n===null||n===void 0?void 0:n.enableAiDisclaimerWithFlexWrap,!1),CIB.config.features.enableDynamicBackgroundAnimations=t(n===null||n===void 0?void 0:n.enableDynamicBackgroundAnimations,!1),CIB.config.features.enableDynamicComposerBackground=t(n===null||n===void 0?void 0:n.enableDynamicComposerBackground,!1),CIB.config.features.enableActionBarSingleLine=t(n===null||n===void 0?void 0:n.enableActionBarSingleLine,!1),CIB.config.features.enableSimplifiedMinHeight=t(n===null||n===void 0?void 0:n.enableSimplifiedMinHeight,!1),CIB.config.features.enableNotebookHeaderDesktop=t(n===null||n===void 0?void 0:n.enableNotebookHeaderDesktop,!1),CIB.config.features.enableSidePanelAlignedStart=t(n===null||n===void 0?void 0:n.enableSidePanelAlignedStart,!1),CIB.config.features.enableSidePanelSimplified=t(n===null||n===void 0?void 0:n.enableSidePanelSimplified,!1),CIB.config.features.enableSidePanelCustomScrollbars=t(n===null||n===void 0?void 0:n.enableSidePanelCustomScrollbars,!1),CIB.config.features.enableHideActionBarNewTopic=t(n===null||n===void 0?void 0:n.enableHideActionBarNewTopic,!1),CIB.config.features.enableHideSerpFeedback=t(n===null||n===void 0?void 0:n.enableHideSerpFeedback,!1),CIB.config.features.enableSubtleThreadItems=t(n===null||n===void 0?void 0:n.enableSubtleThreadItems,!1),CIB.config.features.enableSubtleGptItems=t(n===null||n===void 0?void 0:n.enableSubtleGptItems,!1),CIB.config.features.enableNotebookInSidePanelFooter=t(n===null||n===void 0?void 0:n.enableNotebookInSidePanelFooter,!1),CIB.config.features.enableGPTInSidePanelFooter=t(n===null||n===void 0?void 0:n.enableGPTInSidePanelFooter,!1),CIB.config.features.enableResetPersonaOnNewConversation=t(n===null||n===void 0?void 0:n.enableResetPersonaOnNewConversation,!1),CIB.config.features.enablePluginsInSidePanelFooter=t(n===null||n===void 0?void 0:n.enablePluginsInSidePanelFooter,!1),CIB.config.features.enableProBadgeInSidePanelHeader=t(n===null||n===void 0?void 0:n.enableProBadgeInSidePanelHeader,!1),i=t(n===null||n===void 0?void 0:n.enableSearchInSidePanel,!1),i){CIB.config.features.enableSearchInSidePanel=!0;CIB.onSearchButtonClicked(ih)}if(CIB.config.features.enablePluginsGridLayout=t(n===null||n===void 0?void 0:n.enablePluginsGridLayout,!1),CIB.config.features.enableCircularSrcCitations=t(n===null||n===void 0?void 0:n.enableCircularSrcCitations,!1),CIB.config.features.enableCircularSrcAttributions=t(n===null||n===void 0?void 0:n.enableCircularSrcAttributions,!1),CIB.config.features.enableHideLearnMoreAttributionLabel=t(n===null||n===void 0?void 0:n.enableHideLearnMoreAttributionLabel,!1),CIB.config.features.enableSimplifiedHoverCard=t(n===null||n===void 0?void 0:n.enableSimplifiedHoverCard,!1),CIB.config.features.enableHoverCardAlignedAbove=t(n===null||n===void 0?void 0:n.enableHoverCardAlignedAbove,!1),CIB.config.features.enableWideBadges=t(n===null||n===void 0?void 0:n.enableWideBadges,!1),r=t(n===null||n===void 0?void 0:n.enableHideInternalSearchQuery,!1),r){var u=CIB.config.sydney.request.allowedMessageTypes,f="InternalSearchQuery",e=u.filter(function(n){return n!==f});CIB.config.sydney.request.allowedMessageTypes=e}CIB.config.features.enableSimplifiedMetas=t(n===null||n===void 0?void 0:n.enableSimplifiedMetas,!1);CIB.config.features.enableActionBarComposerInput=t(n===null||n===void 0?void 0:n.enableActionBarComposerInput,!1);CIB.config.features.enableSimplifiedFRE=t(n===null||n===void 0?void 0:n.enableSimplifiedFRE,!1)}function ih(){var i="b_active",r=_ge("b-scopeListItem-web"),t=_ge("b-scopeListItem-conv");t&&Lib.CssClass.contains(t,i)&&(n.LogIntEvent("ConversationViewExit","Scope",{source:"ClickTab",target:_G[n.SYD_PREV_MODE]}),sj_evt.fire("hideSydFSC"));t&&Lib.CssClass.remove(t,i);r&&Lib.CssClass.add(r,i)}function rh(){var n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.lang,!1),u=t(n===null||n===void 0?void 0:n.region,!1),f=t(n===null||n===void 0?void 0:n.market,!1),e=t(n===null||n===void 0?void 0:n.truemkt,!1),o=t(n===null||n===void 0?void 0:n.uilang,!1),s=t(n===null||n===void 0?void 0:n.trueuilang,!1),i={};r&&(i.language=r);u&&(i.region=u);f&&(i.market=f);e&&(i.truemkt=e);o&&(i.uilang=o);s&&(i.trueuilang=s);CIB.config.sydney.message.localeInfo=i}function uh(n){var i=_w._sydConvConfig,v=t(i===null||i===void 0?void 0:i.country,!1),y=t(i===null||i===void 0?void 0:i.countryConfidence,!1),p=t(i===null||i===void 0?void 0:i.state,!1),w=t(i===null||i===void 0?void 0:i.city,!1),b=t(i===null||i===void 0?void 0:i.cityConfidence,!1),k=t(i===null||i===void 0?void 0:i.zip,!1),d=t(i===null||i===void 0?void 0:i.timezoneoffset,!1),it=t(i===null||i===void 0?void 0:i.enableTimezoneOffsetFromJS,!1),g=t(i===null||i===void 0?void 0:i.dma,!1),nt=t(i===null||i===void 0?void 0:i.lat,!1),tt=t(i===null||i===void 0?void 0:i.long,!1),rt=t(i===null||i===void 0?void 0:i.userIpAddress,u),s=t(i===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1),ut=t(i===null||i===void 0?void 0:i.enableSydCLOC,!0),ft=t(i===null||i===void 0?void 0:i.enableUserIpAddress,!0),l=t(i===null||i===void 0?void 0:i.enableSendTimeZone,!1),r={},a,e,o,h,c,f;v&&(r.country=v);p&&(r.state=p);w&&(r.city=w);k&&(r.zipcode=k);it||s||l?r.timezoneoffset=-((new Date).getTimezoneOffset()/60):d&&(r.timezoneoffset=parseFloat(d));(s||l)&&(a=Intl.DateTimeFormat().resolvedOptions().timeZone,a&&(r.timezone=a));g&&(r.dma=g);nt&&(r.latitude=parseFloat(nt));tt&&(r.longitude=parseFloat(tt));y&&(r.countryConfidence=y);b&&(r.cityConfidence=b);s?CIB.config.sydney.message.locationInfo=r:n&&typeof n.locations!="undefined"&&typeof n.locations.locationsList!="undefined"?typeof SydneyFSCLocationHelper!="undefined"&&typeof SydneyFSCLocationHelper.writeToLocationHints!="undefined"&&SydneyFSCLocationHelper.writeToLocationHints(n):n&&typeof n.cookLoc!="undefined"?(e=[],n.cookLoc.userLoc&&(o=ti(n.cookLoc.userLoc,!1),o.RegionType=1,o.SourceType=2,o.FDConfidence=1,e.push(o)),n.cookLoc.deviceLoc&&(h=ti(n.cookLoc.deviceLoc,!1),h.RegionType=2,h.SourceType=5,e.push(h)),ut&&n.cookLoc.coarseLoc&&(c=ti(n.cookLoc.coarseLoc,!1),c.RegionType=2,c.SourceType=11,e.push(c)),f=r,f.Center={Latitude:f.latitude,Longitude:f.longitude},delete f.latitude,delete f.longitude,f.RegionType=2,f.SourceType=1,e.push(f),CIB.config.sydney.message.locationHints=e):CIB.config.sydney.message.locationInfo=r;!l||s||CIB.config.sydney.message.locationInfo||(CIB.config.sydney.message.locationInfo={timezoneoffset:r.timezoneoffset,timezone:r.timezone});ft&&(CIB.config.sydney.message.userIpAddress=rt);CIB.config.sydney.message.timestamp=oc()}function fh(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableAttributionImages,!1),r=t(n===null||n===void 0?void 0:n.enableAttributionImagesWhenAdsPresent,!1),u=t(n===null||n===void 0?void 0:n.enableAttributionImagesCarousel,!1),f=t(n===null||n===void 0?void 0:n.enableAttributionImagesClickthrough,!1),e=t(n===null||n===void 0?void 0:n.enableAttributionVideos,!1);i&&(CIB.config.features.enableAttributionImages=i);r&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=r);u&&(CIB.config.features.enableAttributionImagesCarousel=u);f&&(CIB.config.features.enableAttributionImagesClickthrough=f);e&&(CIB.config.features.enableAttributionVideos=e)}function eh(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,ce);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function oh(){var n,i,r,u,f,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualCardCitation,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableVisualCardStreaming,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableVisualCardLayout,!1),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAnswerCardGrounding,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableAnswerCardInMessage,!1),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableAnswerCardRenderingInChat,!1),p=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableAnswerCardGroundingSpc,!1);h&&e(CIB.config.sydney.request.optionsSets,"flxsrchv16");c&&e(CIB.config.sydney.request.optionsSets,"envisualcd");l&&e(CIB.config.sydney.request.optionsSets,"visualacf");a&&e(CIB.config.sydney.request.optionsSets,"enacf");p&&e(CIB.config.sydney.request.optionsSets,"enacfspc");v&&e(CIB.config.sydney.request.optionsSets,"fluxwpaic");y&&(CIB.config.features.enableAnswerCardRendering=!0)}function sh(){var n,i,r,u,f,e,o,s,h,c,l,a,v,w=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),b=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!0),k=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableDevFormOverrideForAds,!1),y=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.codexPartnerScenario,"SERP"),d=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableRenderChatAdsOnSerp,!0),g=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHoverAdsClickout,!1),nt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableUniqueSlotId,!0),tt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableConversationHistoryForAds,!1),it=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enablePrivacyCheckForAds,!0),rt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableHoverAds,!0),ut=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableInlineAds,!0),ft=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableTestAdsFeatures,!1),p=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.testAdsFeatureNames,"");CIB.config.features.enableAdSlugsDesktop=w;CIB.config.features.enableAdSlugsMobile=b;CIB.config.features.enableHoverAds=rt;CIB.config.features.enableInlineAds=ut;CIB.config.features.enableDevFormOverrideForAds=k;CIB.config.features.enableSendConversationHistoryForAds=tt;CIB.config.features.enableApplyLinkToHoverAds=g;CIB.config.features.enableUniqueSlotId=nt;CIB.config.features.enablePrivacyCheckForAds=it;y!==""&&(CIB.config.sydney.request.scenario=y);d&&(CIB.config.features.enableSlottedContentForAds=!0,CIB.config.features.enableSlottedContentForInlineAds=!0);ft&&p.length>0&&(CIB.config.ads.query.addfeaturesnoexpansion=p)}function hh(){var n=_w._sydConvConfig,u=t(n===null||n===void 0?void 0:n.enableShopgptWebcomponents,!1),r,i;u&&(CIB.config.features.enableInlineComponents=!0,CIB.config.features.enableDynamicWebcomponent=!0);r=t(n===null||n===void 0?void 0:n.enableShopgptShoppingSkills,!1);r&&(i=t(n===null||n===void 0?void 0:n.shopgptShoppingSkillsOptionset,""),i&&e(CIB.config.sydney.request.optionsSets,i))}function ch(){var n,i,r,f,e,o,s,h,c,l,a=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),v=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),y=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),p=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.sydneySapphireUpsellTreatment,0),w=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isAccountLinkedWithActiveAAD,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing&adjust=euhmno2_oy62nz1"),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.sydSapphireUpsellVisualSearchQRCodeUrl,"https://bingapp.microsoft.com/bing?adjust=13uz7blz_13evwnmy"),d=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableCopilotAppUpsellFlyOnHeader,!1),g=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.copilotAppUpsellQRUrl,u);a&&!w&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=a,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=p,CIB.config.mobileUpsell.qrCodeBaseUrl=b);v&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=v,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=p);y&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=y,CIB.config.mobileUpsell.qrCodeVisualSearchUrl=k);d&&(CIB.config.features.enableMobileUpsellFlyoutOnHeaderBar=!0,CIB.config.features.enableMobileUpsellButtonOnHeaderBar=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableMobileUpsellButtonOnHeaderBar,!0),CIB.config.mobileUpsell.enableFlyoutCTAButton=!0,CIB.config.mobileUpsell.flyoutQRUrl=g)}function lh(){var i,r,u,f,e,o,h,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(tf.toLowerCase()),n,c;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=s(n,l),a&&(n=s(n,b)),n=s(n,y),n=s(n,p),n=s(n,w),k&&(c=n.indexOf("deepleo"),c>=0&&n.splice(c,1)),CIB.config.sydney.request.optionsSets=n)}function kt(t,i){if(i)return[{tone:n.CREATIVE_TONE},{tone:n.BALANCED_TONE},{tone:n.PRECISE_TONE}];switch(t){case ToneTier.LOW:return[{tone:n.BALANCED_TONE}];case ToneTier.MEDIUM:case ToneTier.HIGH:default:return[{tone:n.CREATIVE_TONE},{tone:n.BALANCED_TONE},{tone:n.PRECISE_TONE}]}}function ah(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={LocaleInfo:{Market:_G.Mkt,Language:_G.Lang,Region:_G.Region}},[2,fetch("turing/systemmetadata?"+new URLSearchParams({request:JSON.stringify(i)})).then(function(n){return n.json()}).then(function(i){var r;return((r=i===null||i===void 0?void 0:i.enabledTones)===null||r===void 0?void 0:r.length)>0?i.enabledTones.map(function(n){return{tone:n}}):kt(n,t)})["catch"](function(){return kt(n,t)})]})})}function ru(){var i,r,e,o,s,l,a,v,y,p,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt;return __awaiter(this,void 0,void 0,function(){var ni,yi,pi,fi,wi,wt,ti,ii,ri,ei,oi,si,hi,bt,dt,gt,ci,ui,li,ai,bi,ki,di,gi,pt,vi;return __generator(this,function(nr){switch(nr.label){case 0:return(ni=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.toneDefault,n.BALANCED_TONE),yi=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.userPriorityLevel,999),pi=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableUserPriorityLevel,!1),fi=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableTonePerf,!0),wi=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.shareLoadingUI,!0),h=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableNoToneOpt,!1),wi&&(CIB.config.features.enableShareLoadingUI=!0),wt=!pi||yi>0,ti=wt?t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.balTone,""):"harmonyv3",ii=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.crtTone,"h3imaginative"),ri=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.prcTone,"h3precise"),ei=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.sydBalOpts,u),oi=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.sydCrtOpts,u),si=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.sydPrcOpts,u),hi="clgalileo",bt=wt?t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.sydBalExtraOpts,u):"",dt=wt?t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.sydCrtExtraOpts,hi):"",gt=wt?t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.sydPrcExtraOpts,hi):"",ei&&(bt+=(bt!==""?",":"")+ei),oi&&(dt+=(dt!==""?",":"")+oi),si&&(gt+=(gt!==""?",":"")+si),bt&&(c.Balanced=bt.split(",")),dt&&(c.Creative=dt.split(",")),gt&&(c.Precise=gt.split(",")),(ti||h&&ti=="")&&(f[n.BALANCED_TONE]=ti),(ii||h&&ii=="")&&(f[n.CREATIVE_TONE]=ii),(ri||h&&ri=="")&&(f[n.PRECISE_TONE]=ri),fi&&(CIB.config.features.enableTonePerf=fi),CIB.config.features.enableGPT4TurboSwitch=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableGPT4TurboSwitch,!1),CIB.config.features.enableResponseToneSelector=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableResponseToneSelector,!0),CIB.config.features.enablePersistentResponseToneSelector=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enablePersistentToneSelector,!1),CIB.config.features.enableResponseToneObjects=(ft=(ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableSuppressTones)!==null&&ft!==void 0?ft:!0,CIB.config.features.enableResponseToneColorThemes=!0,ci=Object.keys(f),ui=(et=_w._sydConvConfig.isCCP)!==null&&et!==void 0?et:!1,li=!ui&&t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableTierLoadBalancing,!0),ai=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.loadUserTier,"Low"),bi=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.disableTierLoadBalancingCall,!1),ki=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableSuppressTones,!0),di=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.enableNoToneBCE,!1),!ki)?[3,9]:di?(Object.keys(f).map(function(t){t!=n.CREATIVE_TONE&&delete f[t]}),CIB.config.sydney.responseTones=[{tone:n.CREATIVE_TONE}],w(n.CREATIVE_TONE),CIB.eventBus.sendSystemEvent(2,(at=CIB.responseTone)!==null&&at!==void 0?at:n.CREATIVE_TONE),[3,8]):[3,1];case 1:return li?(gi=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.isBingUserSignedIn,!1),!gi)?[3,5]:(pt=void 0,!bi)?[3,2]:(pt=kt(ai,ui),[3,4]):[3,7];case 2:return[4,ah(ai,ui)];case 3:pt=nr.sent();nr.label=4;case 4:return CIB.config.sydney.responseTones=pt,vi=pt===null||pt===void 0?void 0:pt.map(function(n){return n.tone}),Object.keys(f).map(function(n){vi.includes(n)||delete f[n]}),vi.includes(ni)?w(ni):w(n.BALANCED_TONE),[3,6];case 5:Object.keys(f).map(function(t){t!=n.BALANCED_TONE&&delete f[t]});CIB.config.sydney.responseTones=[{tone:n.BALANCED_TONE}];w(n.BALANCED_TONE);nr.label=6;case 6:return CIB.eventBus.sendSystemEvent(2,(yt=CIB.responseTone)!==null&&yt!==void 0?yt:n.BALANCED_TONE),CIB.config.features.enableLowUserTierUx=CIB.config.sydney.responseTones.length<2,[3,8];case 7:CIB.config.sydney.responseTones=ci.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}});nr.label=8;case 8:return[3,10];case 9:CIB.config.sydney.responseToneOptions=ci;nr.label=10;case 10:return li||w(ni),tc(),[2]}})})}function dt(i){var r,u,f,e,o,s;(t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSyntheticStreamSpeedBasedOnTone,!0)&&(i===n.BALANCED_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.syntheticStreamSpeedForBalancedTone,15)),i===n.CREATIVE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.syntheticStreamSpeedForCreativeTone,at)),i===n.PRECISE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.syntheticStreamSpeedForPreciseTone,at))),s=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableStreamSyntheticTextResponses,!1),s)&&(CIB.config.messaging.streamSyntheticTextResponses=vh(i))}function vh(i){var r,u,e,o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableStreamSyntheticTextResponsesForBalancedTone,!0),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableStreamSyntheticTextResponsesForCreativeTone,!0),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableStreamSyntheticTextResponsesForPreciseTone,!0);return o&&(i===n.BALANCED_TONE&&f[n.BALANCED_TONE]==="galileo"||h&&f[n.BALANCED_TONE]==="")||s&&(i===n.CREATIVE_TONE&&f[n.CREATIVE_TONE]==="h3imaginative"||h&&f[n.CREATIVE_TONE]==="")||c&&(i===n.PRECISE_TONE&&f[n.PRECISE_TONE]==="h3precise"||h&&f[n.PRECISE_TONE]==="")}function yh(n){if(!n)return ut.Demote;for(var t in ut)if(t.toLowerCase().trim()===n.toLowerCase().trim())return ut[t];return ut.Demote}function ph(){var t=sj_cook.get(n.userCook,pe),i=yh(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function wh(n){lr=n}function bh(){return lr}function uu(){var i,r=sj_cook.get(n.userCook,y),e;if(p){var o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.bceTermsOfUseVersion,2),u=sj_cook.get(wi,y),s=!!r||!!u,f=s?Number(r)||Number(u)||1:0;return!!f&&f>=o}return e=sj_cook.get(d,d),r===e}function kh(){var u,f,e,o,s,h,c,l,a,k=sj_cook.get(d,d),g=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.bceTermsOfUseVersion,2),w=p?g.toString():k,v,b;sj_cook.set(n.userCook,y,w,!0,"/",null);sj_cook.set(wi,y,w,!0,"/",null);i(r.System,"MuidConsentProvided","MuidUser",{IsConsent:"1"});CIB.config.sydney.muidUserConsentGiven=!0;CIB.config.features.enableSuggestionBarInUnexpandedChatAnswer&&(v=(o=(e=(f=_d.querySelector(".b_ans #b_sydTigerCont"))===null||f===void 0?void 0:f.querySelector("cib-serp"))===null||e===void 0?void 0:e.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-see-more-container"),b=(a=(l=(c=(h=(s=_d.querySelector(".b_ans #b_sydTigerCont"))===null||s===void 0?void 0:s.querySelector("cib-serp"))===null||h===void 0?void 0:h.shadowRoot)===null||c===void 0?void 0:c.querySelector("cib-conversation"))===null||l===void 0?void 0:l.shadowRoot)===null||a===void 0?void 0:a.querySelector("cib-suggestion-bar"),v&&b&&v.setAttribute("has-suggestions","true"))}function dh(){if(typeof CIB.version!="undefined"&&CIB.version&&CIB.version.version&&typeof sj_cook!="undefined"&&sj_cook){var t=CIB.version.version,u=sj_cook.get(n.userCook,bi);u&&u===t||(sj_cook.set(n.userCook,bi,t,!0,"/",null),i(r.System,"CIB","CIBInfo",{version:t}))}}function gh(){var n,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.DedicatedIpType,"unknown");["nochat","nochatstrict"].indexOf(u)>-1&&i(r.System,"NoChatVariant","NoChatVariantInfo",{DedicatedIpType:u})}function gt(){var f,e=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToneCookExpiry,!1),u;return e&&(u=parseInt(sj_cook.get(n.userCook,n.toneExpiryCrumb)),u&&u>0&&Date.now()>u)?(sj_cook.set(n.userCook,n.toneExpiryCrumb,"0",!0,"/",null),i(r.System,"ResetTone","Tone",{}),null):sj_cook.get(n.userCook,n.toneCrumb)}function w(u){var h,c,a,v,y,p,w,b,g=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableToneCookExpiry,!1),k=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableBalancedSerp,!1),nt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAlwaysCreativeSerp,!1),tt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAlwaysBalancedSerp,!1),it=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSuperOptionsSets,!1),ut=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBalancedSerpLog,!1),s="",ot=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableGetToneFromServer,!1),o=gt(),d;if(ut&&o!=n.BALANCED_TONE&&i(r.System,"BalSerpOverride","Tone",{tone:o}),ot&&(s=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.responseTone,u)),ic()){d=ft(ci).toLowerCase().trim();CIB.responseTone=s||rt[d];ni(CIB.responseTone,!1,g);i(r.System,"SET_TONE_FROM_URL",d,{});i(r.System,vt,"Tone",{tone:CIB.responseTone});return}nt?(o=s||n.CREATIVE_TONE,CIB.responseTone=o):tt?(o=s||n.BALANCED_TONE,CIB.responseTone=o):!k&&o!=null&&f.hasOwnProperty(o)?(CIB.responseTone=s||o,i(r.System,vt,"Tone",{tone:CIB.responseTone})):(o=s||u,CIB.responseTone=o,i(r.System,"DefaultTone","Tone",{tone:o}));it&&e(CIB.config.sydney.request.optionsSets,le);wt=CIB.config.sydney.request.optionsSets.length;!k&&f.hasOwnProperty(o)?(e(CIB.config.sydney.request.optionsSets,f[o]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,o),l=o,dt(l)):k&&f.hasOwnProperty(n.BALANCED_TONE)&&(e(CIB.config.sydney.request.optionsSets,f[n.BALANCED_TONE]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,n.BALANCED_TONE),l=n.BALANCED_TONE,dt(n.BALANCED_TONE))}function nc(n){var u,f=n&&n.length>1?n[1]:null,e=f?f.toLowerCase().trim():"",o,s;f&&rt.hasOwnProperty(e)&&(o=n&&n.length>2?n[2]:!1,s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableToneCookExpiry,!1),CIB.responseTone=rt[e],ni(CIB.responseTone,o,s),i(r.System,vt,"Tone",{tone:CIB.responseTone}))}function tc(){var n,u,f,e;sj_evt.bind(ve,nc,!0);var o=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCompliantSydneyEndpointEnabled,!1),h=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCompliantBCE,!1),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableToneChangedLogs,!1);if(!s&&!h&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){ni(n,!0,o)});if(c)CIB.onResponseToneChanged(function(n){i(r.System,"ToneChanged","Tone",{newTone:n})})}function ft(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function ic(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=ft(ci),i&&rt.hasOwnProperty(i.toLowerCase().trim())):!1}function ni(t,i,r){var s=[f[t]].concat(c[t]).toString(),o,u;t!==gt()&&hu("ChangedTone","Tone",{newTone:t});i&&(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,s,!0,"/",null),r&&(o=uc(),sj_cook.set(n.userCook,n.toneExpiryCrumb,o.toString(),!0,"/",null)));f.hasOwnProperty(t)&&(u=su(CIB.config.sydney.request.optionsSets,Object.keys(f)),u!==-1?h&&f[t]===""?(wt=u,CIB.config.sydney.request.optionsSets.splice(u,1)):CIB.config.sydney.request.optionsSets[u]=f[t]:h?e(CIB.config.sydney.request.optionsSets,f[t],wt):e(CIB.config.sydney.request.optionsSets,f[t]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,t,l),l=t,dt(l))}function rc(){var u,f,e,o=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,s;o&&!er&&(er=!0,o&&(t=n.getCookieTone(),t!=null&&t!=n.BALANCED_TONE&&(i=CIB.manager.conversation._lastMessage,s=(e=(f=CIB===null||CIB===void 0?void 0:CIB.config)===null||f===void 0?void 0:f.greeting)===null||e===void 0?void 0:e.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=s,n.SydLog(r.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function fu(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1);n&&!r&&(CIB.config.speech.language=n,e(CIB.config.sydney.request.optionsSets,"cdxslang"))}function uc(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStaticToneExpiry,!1),n=new Date;return r?n.setDate(n.getDate()+3):(n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),n.getTime()}function et(n,t,i){return i===void 0&&(i=""),i!=""&&c.hasOwnProperty(i)&&(n=fc(n,c[i])),t!=""&&c.hasOwnProperty(t)&&c[t].forEach(function(t){e(n,t)}),n}function e(n,t,i){return i===void 0&&(i=-1),n||(n=[]),t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t)),n}function eu(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function fc(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function ou(n,t,i){return i===void 0&&(i=-1),n||(n=[]),t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t)),n}function ec(){var n,i=u,t;return navigator&&(t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,t&&(i=(n=t.effectiveType)===null||n===void 0?void 0:n.toString())),i}function su(n,t){for(var u,r,i=0;i<t.length;i++)if(u=t[i],r=n.indexOf(f[u]),r>=0)return r;return-1}function ti(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function oc(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+o(r)+":"+o(u):t>0?i="-"+o(r)+":"+o(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return o(s)+"-"+o(e)+"-"+o(f)+"T"+o(h)+":"+o(c)+":"+o(l)+i}function o(n){return n<10?"0"+n:n}function s(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function sc(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),i;return f.hasOwnProperty(n)&&(i=su(t,Object.keys(f)),i!==-1&&(t[i]=f[n]),t=et(t,n,l)),t}function hc(){var t,r=n.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableChatPageCookieBannerFix,!1),i;return r?(i=_ge("bnp_cookie_banner"),i&&_w&&_w.getComputedStyle(i).display!=="none"):!1}function i(n,i,r,u){var e,o,s,h,c,f,l,a,v,y,p;u===void 0&&(u=null);f=[];l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1);l&&f.push("IsBizChat",l.toString());a=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);a&&f.push("IsBCE",a.toString());v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);y=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForStudents,!1);v&&f.push("IsBCSFaculty","true");y&&f.push("IsBCSStudent","true");p=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableTelemetryPrivacy,!1);p&&(u=cc(u));u==null?(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r],f,!1)),ii.apply(void 0,__spreadArray([n,i,r],f,!1))):(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1)),ii.apply(void 0,__spreadArray([n,i,r,"CustomData",JSON.stringify(u)],f,!1)))}function ii(n,i,u){for(var f,l,o,s,h,c=[],e=3;e<arguments.length;e++)c[e-3]=arguments[e];var a=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCompliantLogger,!1),v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableCIBBootstrapper,!1),y=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableFAIBootstrapper,!1);a&&n===r.Interaction&&(f=function(t){var r,o,s,h,e,l;t===void 0&&(t=!0);(r=MsbSydneyHelper.compliantLog)===null||r===void 0?void 0:r.call.apply(r,__spreadArray([MsbSydneyHelper,n,i,"Namespace",u],c,!1));l=(h=(s=(o=CIB.manager)===null||o===void 0?void 0:o.conversation)===null||s===void 0?void 0:s.messages)===null||h===void 0?void 0:h.filter(function(n){return n.author==="user"}).length;i==="ConversationViewEnter"&&l>0&&((e=MsbSydneyHelper.compliantLog)===null||e===void 0?void 0:e.call.apply(e,__spreadArray(__spreadArray([MsbSydneyHelper,n,"UserMessageRendered","Namespace","CompliantLog"],c,!1),["CustomData",""],!1)));t&&sj_evt.unbind("MsbSydneyHelperLoaded",f)},l=function(n){n===void 0&&(n=!0);v&&typeof CIB=="undefined"?SydneyBootstrapper.bindToCIBInit(function(){return f(n)}):y&&typeof CIB=="undefined"?sj_evt.bind("fai_cib_loaded",function(){return f(n)},!0):f(n)},typeof MsbSydneyHelper!="undefined"?l(!1):sj_evt&&sj_evt.bind("MsbSydneyHelperLoaded",l,!0,undefined,!0))}function cc(n){return n?n.source&&n.source==="welcomeScreenBoldClick"?n:(ge.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=yt);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=yt);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=yt)}),n):n}function hu(n,t,u){i(r.Interaction,n,t,u)}function lc(){var i,r,u;history&&(n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.initialBackButtonFix,!1),r&&cu(!1),sj_be(_w,"popstate",function(i){var f,e,o,s,h,c,l,a,v,y,p,w,b,r,u;n.enableBingChatPath=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableBingChatPath,!1);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);var tt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableNotebookMode,!1),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBackFromNotebook,!0),it=tt&&k&&_G[n.SYD_MODE]==="notebook";if(gi=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isCopilotChat,!1),nr=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isUnionClient,!1),n.enableConvModeSwitchAjax)if(r=_w._currentRoute,_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search},n.enableBingChatPath){if(u=_ge("sb_form_q"),ot((l=_w._currentRoute)===null||l===void 0?void 0:l.search)!=(u===null||u===void 0?void 0:u.value)&&(_w._isConvAjaxUpdated||((v=(a=_w._currentRoute)===null||a===void 0?void 0:a.state)===null||v===void 0?void 0:v.ajaxserp)===!0)){var d=_w.location,g=d.href,nt=g.indexOf("/search");if(nt>=0){window.location.reload();return}}}else{if(it){sj_evt.fire("switchToConversation");sj_evt.fire("showSydFSC",undefined,undefined,undefined,!0);return}if(ot(r===null||r===void 0?void 0:r.search)!=ot((y=_w._currentRoute)===null||y===void 0?void 0:y.search)&&(_w._isConvAjaxUpdated||((w=(p=_w._currentRoute)===null||p===void 0?void 0:p.state)===null||w===void 0?void 0:w.ajaxserp)===!0)){var d=_w.location,g=d.href,nt=g.indexOf("/search");if(nt>=0){window.location.reload();return}}}((b=i===null||i===void 0?void 0:i.state)===null||b===void 0?void 0:b.inConvMode)?_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):k&&_G[n.SYD_PREV_MODE]==="notebook"&&sj_evt.fire("showNotebook"):gi||!(i===null||i===void 0?void 0:i.state)||i.state.inConvMode||_G[n.SYD_MODE]!="conversation"||nr||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams&&(u=new URLSearchParams(window.location.search),fr=u.get("showconv")==="1"))}function cu(u){var f,e,o,s,h,c,l=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),a=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableDynamicFormCode,!1),v=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.initialBackButtonFix,!1);if(n.enableBingChatPath=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBingChatPath,!1),history){if((fr||l)&&it&&u){it=!1;history.replaceState({inConvMode:u},document.title||"");n.enableConvModeSwitchAjax=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","replace",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search});l&&(_w._chatRoute=_w.location.pathname);return}if(v&&it&&!u){it=!1;history.replaceState({inConvMode:u},document.title||"");return}ur?lu(u):n.enableBingChatPath?l&&a?sj_evt.bind("ConvModeNavigate",function y(n){var t=n&&n.length>1?n[1]:null;au(u,t);sj_evt.unbind("ConvModeNavigate",y)}):au(u,null):(history.pushState({inConvMode:u},document.title||""),n.enableConvModeSwitchAjax=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableConvModeSwitchAjax,!1),i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u}),n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}))}}function lu(u){var e,o,s,h=n.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.convBackBtn,!1),c=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableToggleChatSearch,!1),f=new URL(window.location.href);c&&(f.pathname=u?"/chat":"/search");f.searchParams.set("showconv",u?"1":"0");h?history.pushState({inConvMode:u},a(u),f):history.replaceState({inConvMode:u},a(u),f);n.enableConvModeSwitchAjax=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}function ac(){var t,n=new URL(window.location.href);((t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk"))||(n.searchParams.append("showntbk","1"),history.pushState({inConvMode:!0},a(!0),n))}function vc(){var t,n=new URL(window.location.href),i=(t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk");i==="1"&&(n.searchParams["delete"]("showntbk"),history.replaceState({inConvMode:!0},a(!0),n))}function au(u,f){var e,o,h=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isMobileHost,!1);if(!h){var s=_ge("sb_form_q"),c=_ge("sb_form"),l=_w._chatRoute||"/chat",v=u?l:"/search";history.pushState({inConvMode:u},a(u),v+"?q="+encodeURIComponent(f||(s===null||s===void 0?void 0:s.value)||"Microsoft Copilot")+yc(c));n.enableConvModeSwitchAjax=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}}function yc(n){var r="",i,t,u;if(!n)return r;for(i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return u=_w._ncpformCode||(_w._isConvAutoHide?"ATCVAJ":"CONVAJ"),r+"&form="+u}function a(n){return v&&tt?n?v:tt:document.title}function pc(n){var i;v=t((i=_w._sydConvTranslation)===null||i===void 0?void 0:i.pageTitleText,"");v&&tt&&(document.title=a(n))}function wc(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function bc(){function it(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=vt,sj_evt.unbind("rewready",it))}}var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,rt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!0),ut=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),ft=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enablePanelTransition,!1),et=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isCopilotChat,!1),ot=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1),st=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCORSFix,!1),ht=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isUnionClient,!1),nt,tt,d,g;if(!ft)CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");CIB.config.sydney.request.scenario==="SERP"&&((et||ht)&&!ot&&st&&(CIB.manager.chat.api.bing._endpoint=window.document.location.origin),iu());break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(rt&&(nt=_ge("b_sydTigerCont"),nt)){tt=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",tt?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});d=_ge("sb_form_q");d&&(CIB.config.sydney.slottedModeTurnIndex=nf()&&((l=(c=(h=CIB===null||CIB===void 0?void 0:CIB.vm)===null||h===void 0?void 0:h.conversation)===null||c===void 0?void 0:c.turns)===null||l===void 0?void 0:l.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=d.value.toLowerCase().trim())}ut&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});sj_evt.bind("ajax.clearChat",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var ct=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.codexMUIDUser,!1),at=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSigninTurnFix,!0),vt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.maxTurnsPerConversation,lt);if(ct&&at&&sj_evt.bind("rewready",it,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,rr):Lib.CssClass.remove(t,rr))});var yt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableThreads,!1),pt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.isAccountLinkedWithActiveAAD,!1),wt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableFreeSydney,!1)&&t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableAIPersonasForDesktop,!1);yt||!pt||wt||(g=_qs("body"),g&&Lib.CssClass.add(g,no))}function kc(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text.trim()===c}))?c:""}function ri(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function dc(n){CIB.processCachedResponse(n)}function vu(n,t,i,r,u,f,e,o){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);o===void 0&&(o=!0);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e,!1,!1,o)}function ot(n){var r=new RegExp("[?&]{1}q=([^&]+)"),t=n.match(r),i=t?t[1]:null;return i?decodeURIComponent(i.replace("+"," ")):""}function b(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?ot(_w.location.search):(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function gc(){var t=new URLSearchParams(_w.location.search),i=t.get(vi);i&&(n.lastQuery=b().toLowerCase().trim())}function yu(n,t,i,r,u,f,e){var s,o,h;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!0);s="";t&&(s=b());o=i;o||(h=_d.querySelector(".b_ans #b_wpt_data"),h&&(o=h.getAttribute("data-sydctx")));vu(n,o,s,r,!1,u,f,e)}function nl(n,t,i){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i=!0);var r=b();yu(r,!1,n,t,!1,!0,i)}function tl(t){n.isSydFSCEligible=t}function il(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function rl(){sj_evt.fire("clarity.trigger","cibChat")}function ul(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==b().toLowerCase().trim())}function fl(t,i){var a,v,y,p,w,b,k,d,g,ut,ft,o,nt,u,e,s,rt,at,h,vt,r,c,yt,pt,wt,bt,l;i===void 0&&(i=!1);ut=n.getConfigOrDefault((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableSydCarouselHistory,!1);ft=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableRemoveChatIconInHistory,!1);pu();var f=sj_ce("div","b_metaCont"),et=sj_ce("div","b_metaCont_Title"),kt=n.getConfigOrDefault((y=_w._sydConvTranslation)===null||y===void 0?void 0:y.sydneyCarouselTitle,"");et.textContent=kt;f.appendChild(et);o=sj_ce("div","b_meta_bot");f.appendChild(o);nt=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");ft||(i?u.appendChild(nt):o.appendChild(nt));o.appendChild(u);var ot=n.getConfigOrDefault((p=_w._sydConvConfig)===null||p===void 0?void 0:p.carouselQueries,""),dt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.sydCarPropQuery,!1),st=ot?ot.split(","):null,tt=st?st:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text&&n.text!="Generating answers for you..."}).map(function(n){var i,r,t=(r=(i=n.text)===null||i===void 0?void 0:i.split("`"))!==null&&r!==void 0?r:[];return t.length==1?t[0]:t.length==3?t[1]:""}).filter(function(n){return n}),ht=0,gt=i?_w.innerWidth-si-oe:ee,ni=_w.innerWidth-si-hi,ct=!i,lt=gt-hi,ti=CIB.vm.conversation.model._id,it=!0;for(e=tt.length-1;e>=0;e--)s=tt[e],it&&(rt=el(s)+2*se+he,ht+rt<lt?ht+=rt:ct?(it=!1,at=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+at.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(lt=ni,ct=!0)),vt="cdxche",r=sj_ce("a",null,"b_metaCont_Pill"+(it?"":" b_hide")),r.href=_w.location.origin+_w.location.pathname+"?q="+s+"&form="+vt,ut&&(r.href=r.href+"&convid="+ti),dt&&(r.href=r.href+"&features=sydcarousel,sydcpropq"),r.textContent=s,r.target="_blank",sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})}),u.appendChild(r);c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((b=_w._sydConvTranslation)===null||b===void 0?void 0:b.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);tt.length>0&&(yt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressAlsoTryWhenEnableSydCarousel,!1),yt&&ri("b_alsotry"),pt=n.getConfigOrDefault((d=_w._sydConvConfig)===null||d===void 0?void 0:d.suppressPoleRSWhenEnableSydCarousel,!1),pt&&ri("brspole"),wt=n.getConfigOrDefault((g=_w._sydConvConfig)===null||g===void 0?void 0:g.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),wt&&ri("polerecommendedsearch"),t.children.length>0?(l=_w.getComputedStyle(t,null),l.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),bt=document.querySelector(".b_wpt_container"),bt&&(l=_w.getComputedStyle(t,null),l.paddingLeft=="0px"?Lib.CssClass.add(f,"b_metaMagPadding"):Lib.CssClass.add(f,"b_metaPolePadding")),sj_evt.fire(ae))}function el(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function pu(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function ol(){var n,t,i;((t=(n=CIB.config)===null||n===void 0?void 0:n.knowledgeCards)===null||t===void 0?void 0:t.query)&&(CIB.config.knowledgeCards.query.IG=_G.IG,CIB.config.knowledgeCards.query.IID=(i=_ge("b_sydConvCont"))===null||i===void 0?void 0:i.getAttribute("_iid"))}function wu(){var n,i,r,u,s=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1),h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isMobileHost,!1)&&t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isMobileUI,!1),c=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isUnderside,!1),f,e,o;return c?_w.matchMedia("(prefers-color-scheme: dark)").matches:(f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","DM"),h?(e=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","THEME"),e=="1"||e=="2"&&f=="1"||s):(o=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","WEBTHEME"),o=="1"||o=="2"&&f=="1"))}function ui(n,i,r){var e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disable2TSearchHistory,!0),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enable2TTest,!1),tt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enable2TResizeUpdate,!0),u=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isMobileHost,!1)&&t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isMobileUI,!1),it=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enable2TThemeCheck,!0),rt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enable2TUndersideOverride,!1),f;((y=(v=CIB===null||CIB===void 0?void 0:CIB.config)===null||v===void 0?void 0:v.answers)===null||y===void 0?void 0:y.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(p=_ge("b_sydConvCont"))===null||p===void 0?void 0:p.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,nt&&(CIB.config.answers.query.dissrchswrite="1"),tt&&sj_be(_w,"resize",function(){CIB.config.answers.query.cw=ht(u);CIB.config.answers.query.ch=st(u)}),it&&(wu()?u?CIB.config.answers.query.darkschemeovr="1":CIB.config.answers.query.webthemedark="1":CIB.config.answers.query.lightschemeovr="1"),rt&&(CIB.config.answers.query.underside="1"));((b=(w=CIB===null||CIB===void 0?void 0:CIB.config)===null||w===void 0?void 0:w.ads)===null||b===void 0?void 0:b.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(k=_ge("CodexAdsInstLink"))===null||k===void 0?void 0:k.getAttribute("_iid"):(d=_ge("b_sydConvCont"))===null||d===void 0?void 0:d.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,CIB.config.ads.query.form="codexx",nt&&(CIB.config.ads.query.dissrchswrite="1"),tt&&sj_be(_w,"resize",function(){CIB.config.ads.query.cw=ht(u);CIB.config.ads.query.ch=st(u)}),it&&(wu()?u?CIB.config.ads.query.darkschemeovr="1":CIB.config.ads.query.webthemedark="1":CIB.config.ads.query.lightschemeovr="1"),rt&&(CIB.config.ads.query.underside="1"));ut&&SydneyTestHelper.set2TTestConfigs();f=_w.GlobalInstTracker;typeof f!="undefined"&&f&&f.updateCibConfigIgFromMode&&((g=CIB===null||CIB===void 0?void 0:CIB.vm)===null||g===void 0?void 0:g.mode)&&f.updateCibConfigIgFromMode(CIB.vm.mode)}function sl(n,t){var i=ht(n),r=st(n);if(n)try{ui(i,r,t)}catch(u){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else ui(i,r,t)}function st(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enable2TQueryConfigClientObserverNullCheck,!1);return n?ClientObserver?ClientObserver.getBrowserHeight():kr():r?ClientObserver?ClientObserver.getBrowserHeight():Math.round(_d.documentElement.clientHeight||_w.innerHeight):ClientObserver.getBrowserHeight()}function ht(i){var r,f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enable2TQueryConfigClientObserverNullCheck,!1),u;return i?(u=ClientObserver?ClientObserver.getBrowserWidth():br(),u-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:u-n.padding2TMobile):f?ClientObserver?ClientObserver.getBrowserWidth():Math.round(_d.documentElement.clientWidth||_w.innerWidth):ClientObserver.getBrowserWidth()}function bu(n){var i,r,u;if(n===void 0&&(n={autoSubmit:!1}),r=ku(),r&&CIB.addMessageWithData){var f=t(!!((i=_w._sydConvConfig)===null||i===void 0?void 0:i.himgdirmsg),!0),e=decodeURI(r),o=typeof SydneyImageKnowledgeTestUtils!="undefined";o&&(e=SydneyImageKnowledgeTestUtils.prepareMockedImageUrl());u=[{type:"url",data:e}];n.autoSubmit&&!!n.isFirstMessage&&!!n.query&&CIB.sendSearchQueryWithData?CIB.sendSearchQueryWithData(n.query,{images:u},{hideImageInUserMessage:f}):CIB.addMessageWithData({text:n.query||"",images:u},n.autoSubmit,"",{hideImageInUserMessage:f});o&&sj_evt.fire("CIBMessageWithDataSent")}}function hl(u,f,e,o,s,h){var v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,c,l,ft,a,ot,st;if(s===void 0&&(s=!1),h===void 0&&(h=!0),rt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSydContext,!0),ut=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSQMsg,!0),n.enableConvModeSwitchAjax=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableConvModeSwitchAjax,!1),i(r.System,"TrySendingFirstQueryToChat","SerpToChatTransition",{}),!gu(u,s))return!1;if(o&&n.enableConvModeSwitchAjax){if(n.isSmoothConvSwitchUpdatedPage())return!1;try{if(c=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),c&&c.length>0&&(l=c[c.length-1].text.split("`"),ft=l.length==1?l[0]:l.length==3?l[1]:"",ft.toLowerCase()==u.toLowerCase()))return!1}catch(yt){}}a=[];e&&a.push({author:"user",text:e});f&&a.push({author:"bot",text:f});rt&&a.length!=0&&CIB.registerContext(a);var ht=(b=(w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableSunoWelcomeMessage)!==null&&b!==void 0?b:!1,ct=(d=(k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableSunoUpsell)!==null&&d!==void 0?d:!1,lt=(nt=(g=_w._sydConvConfig)===null||g===void 0?void 0:g.isMSAAuthenticated)!==null&&nt!==void 0?nt:!1,et=n.getConfigOrDefault((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableScrollMsgTextMessage,!0),at=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),vt=at.get("enablesuno")==="1";return ct&&ht&&lt&&vt&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?(u=t((it=_w._sydConvTranslation)===null||it===void 0?void 0:it.sunoCachedMessage,u),CIB.addMessage(u)):ut&&o&&(!et||h)&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?du(u,!0):(i(r.Interaction,"TranistionToChatWithQuery","SerpToChatTransition",{}),et&&!h&&(ot=typeof sessionStorage!="undefined",st="isMessageIntentional",ot&&(sessionStorage===null||sessionStorage===void 0?void 0:sessionStorage.setItem(st,JSON.stringify(!1)))),du(u,!1)),n.lastQuery=u,n.firstQuery.length==0&&(n.firstQuery=u),!0}function cl(){return CIB.config.features.enablePartnerVisualSearchUpload&&CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot}function ku(){var n,i=new URLSearchParams(_w.location.search),t=(n=i.get(ei))!==null&&n!==void 0?n:typeof SydneyTestHelper!="undefined"?SydneyTestHelper.getParamFromUrl(ei):null;return t!==null&&t!==void 0?t:undefined}function ll(){return{imageUrl:ku()}}function du(n,t){if(cl()){var i=ll();if(i.imageUrl){bu({query:n,isFirstMessage:t,autoSubmit:!0});return}}t?CIB.sendSearchQuery(n):CIB.addMessage(n)}function gu(n,u){var f,e,o,s,l;if(al(n)||vl())return!1;var h=ft("showconv"),c=ft("sendquery"),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),v=h==="1"||a;return v&&c==="1"||u?!0:h==="1"&&c!=="1"?!1:(s=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.initialShowConvPresent,!1),l=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.disableChatQueryForShowConv,!0),s&&i(r.System,"InitialShowConvPresent","SerpToChatTransition","1"),l&&s)?!1:!0}function al(t){return!t||t==n.lastQuery||t==n.firstQuery}function vl(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.bypassConsentCheck,!1),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!0),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),h=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length,c=e||o||s;return c&&!pt&&!uu()&&!(f||h<1)}function yl(n){var i=n.dataset.codexads,r,t;return i?(r=n.querySelector(".sb_add > h2 > a"),t=JSON.parse(i),r&&(t===null||t===void 0?void 0:t.length)>0&&(t[0].kappns=r.getAttribute("h")),i=JSON.stringify(t),i?i:""):""}function fi(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function pl(n){return fi(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function wl(n){var u,f,e,i,r;return n?(e="Search for {0}. Impress me with a great response that helps me complete my most likely intent while showing the smartness, depth, and beauty (bolding, tables, and citations) you can produce. Satisfy my intent as early as possible in the response.",i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.tigerEnhancedPromptTemplate,e),!i)?n:(i=i.replace("{0}",n),r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function nf(){var n,i,r,u=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDynamicFormCode,!1),e=f?!!_w._ncpformCode:((i=u.get("form"))===null||i===void 0?void 0:i.toLowerCase())==="convaj"||((r=u.get("form"))===null||r===void 0?void 0:r.toLowerCase())==="atcvaj";return u.has("form")&&e&&_w._isConvAjaxUpdated}function bl(){var n=_ge("noSerp");return n&&Lib.CssClass.contains(n,"initSerp")}function kl(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function dl(){var n,t,i,r,u,f,e=(f=(u=(r=(i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-welcome-container"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector(".muid-upsell");e&&(e.style.display="none")}function gl(){var t,i,n=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),r,u;(n===null||n===void 0?void 0:n.shadowRoot)&&(r=n.shadowRoot.querySelector(".scroller"),r&&(u=r.querySelector(".fade.top"),u&&(u.style.display="none")))}function na(){var r,f,e,o;bt=__spreadArray([],CIB.config.sydney.request.optionsSets,!0);var s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookTurbo,!1),i=n.getAllowedToneOptionsSets(s?n.CREATIVE_TONE:n.PRECISE_TONE),h=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.threadsAutoSaveOptionset,k),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableNotebookThreads,!1);c?(o=CIB.config.sydney.request.source,CIB.config.features.enableSourceInGetConversation=!0,cr=o!=="notebook"?o:u,CIB.config.sydney.request.source="notebook"):i=i.filter(function(n){return n!==h});hr.forEach(function(t){n.addOptionSet(i,t)});CIB.config.sydney.request.optionsSets=i;CIB.showNotebook&&CIB.showNotebook();_G[n.SYD_PREV_MODE]=_G[n.SYD_MODE];_G[n.SYD_MODE]="notebook"}function ta(){var i,r,u,f;CIB.config.sydney.request.optionsSets=__spreadArray([],bt,!0);u=n.getAllowedToneOptionsSets(CIB.responseTone);CIB.config.sydney.request.optionsSets=u;f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableNotebookThreads,!1);f&&(CIB.config.features.enableSourceInGetConversation=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSourceInGetConversation,!1),CIB.config.sydney.request.source=cr)}function ia(){var n;return __awaiter(this,void 0,void 0,function(){var i,u,r;return __generator(this,function(f){switch(f.label){case 0:return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enable1pGptsApi,!1)?(r={},[4,FreeSydneyHelper.get1pGptsFromApi()]):[3,2];case 1:return i=(r.freeSydneyPersonaModels=f.sent(),r),[3,4];case 2:return[4,ha()];case 3:u=f.sent();i={freeSydneyPersonaModels:__spreadArray(__spreadArray([],FreeSydneyHelper.getFreeSydneyPersonasData().freeSydneyPersonaModels,!0),u,!0)};f.label=4;case 4:return CIB.setFreeSydneyData&&CIB.setFreeSydneyData(i),[2]}})})}function ra(){var n=FreeSydneyHelper.getFreeSydneyPersonasData();return n&&n.freeSydneyPersonaModels.length>0?n.freeSydneyPersonaModels[0]:null}function ua(n,t,r){if(r===void 0&&(r=!1),CIB===null)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"CIB element not found"}),!1;var u=_ge(eo),f=r?_qs(so):_qs(ar);return u===null||f===null?(i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):oa(n,f,u,t)}function fa(n){if(CIB===null)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"CIB Element not found"}),!1;var t=_ge("b_chat_external_answer_cards_content"),r=_qs(ar);return t===null||r===null?(i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):sa(r,t,n)}function ea(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isAjaxSerpUpdated,!1)}function ct(n){if(!n)return null;for(var t=n.parentNode;t;){if(t instanceof ShadowRoot)return t;t=t.parentNode}return null}function oa(n,t,r,u){var a,v,y,p,w,b,g=n==="cib-message"&&!!u,k,d,s,f,e,h,nt,o,c,l,tt;if(k=g?(y=(v=ct((a=_w._sydExtResSlots)===null||a===void 0?void 0:a.get(u)))===null||v===void 0?void 0:v.host)!==null&&y!==void 0?y:undefined:(p=t===null||t===void 0?void 0:t.shadowRoot)===null||p===void 0?void 0:p.querySelector(n),!k)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Destination element not found"}),!1;for(d=r.getElementsByClassName(oo),s=0;s<d.length;s++){if(f=d[s],e=k,!f){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(h=f.getAttribute("slot"),h===null){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(nt=1,o=h;e.tagName.toLowerCase()!==vr;)c=sj_ce("slot"),c.setAttribute("slot",o),o="".concat(h,"-").concat(nt++),c.setAttribute("name",o),e.appendChild(c),e=(b=(w=ct(e))===null||w===void 0?void 0:w.host)!==null&&b!==void 0?b:t;f.setAttribute("slot",o);t.appendChild(f);f.classList.remove(yr);l=yl(f);f.removeAttribute("data-codexads");tt=f.dataset.query;f.removeAttribute("data-query");g?_w.postMessage({type:"AnswerCardDimensionUpdate",data:{type:"ADS",iframeid:u,height:f.clientHeight,width:f.clientWidth,hasCarousel:!1,isFullWidth:!1,query:tt,context:l?l:{}}},"*"):_w.postMessage({eventId:ho,adsContext:l,width:f.clientWidth,height:f.clientHeight},"*")}return!0}function sa(n,t,r){var c,l,a,v,y,p,w=(a=(l=ct((c=_w._sydTwoTPlusResSlots)===null||c===void 0?void 0:c.get(r)))===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:undefined,o,u,f,s,b,e,h;if(!w)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Destination element not found"}),!1;for(o=0;o<((v=t.children)===null||v===void 0?void 0:v.length);o++){if(u=t.children.item(o),f=w,!u){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(s=u.getAttribute("slot"),s===null){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(b=1,e=s;f.tagName.toLowerCase()!==vr;)h=sj_ce("slot"),h.setAttribute("slot",e),e="".concat(s,"-").concat(b++),h.setAttribute("name",e),f.appendChild(h),f=(p=(y=ct(f))===null||y===void 0?void 0:y.host)!==null&&p!==void 0?p:n;u.setAttribute("slot",e);n.appendChild(u);u.classList.remove(yr)}return!0}function ha(){var n;return __awaiter(this,void 0,void 0,function(){var i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return(i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAIPersonasForDesktop,!1),!(i&&typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler))?[3,2]:(r=_w._sydConvTranslation,[4,PersonaGPTHandler.getPersonas()]);case 1:return u=e.sent(),f=u.map(function(n){return{id:n.topic,type:n.topic,name:n.personaTitle,displayName:n.personaTitle,icon:n.smallImageUrl,avatarImageUrl:n.avatarImageUrl,description:n.shortDescription,extraOptionsSets:n.optionsSets,supportedTones:n.supportedTones,defaultTone:n.defaultTone,showThreads:!1,welcomeHeader:n.description,welcomeTiles:n.suggestions.map(function(n){return{category:"chat",text:n.text,title:r.freeSydneyWelcomeTilesChatTitle,size:"medium"}})}}),[2,f];case 2:return[2,[]]}})})}var tf="sydneyOptionsSets",rf="codexFeatures",uf="speechSrOptions",ei="imgUrl",ff="https://bing.com/new",ef="desktop",sf="/turing/copilot/builder",oi="/search",hf="bingchat",cf="chat",lf="iycapbing,iyxapbing,prjupywa",af="https://sydney.bing.com",vf="https://copilot.microsoft.com",yf="https://www.bing.com",k="autosave",u="",vi;n.CREATIVE_TONE="Creative";n.BALANCED_TONE="Balanced";n.PRECISE_TONE="Precise";var lt=5,pf=1,wf=20,bf=1048576,kf=1048576,df=10485760,gf=500,ne=1,te=1,ie="fucptob",re=[],ue=[],fe="https://go.microsoft.com/fwlink/?linkid=2135394",ee=750,si=48,oe=42,se=16,he=6,hi=60,at=55,ce=1e3,le="so_bing_chat",ci="seltone",ae="SydAddCarousel",li="https://login.microsoftonline.com/consumers",ai="bb893c22-978d-4cd4-a6f7-bb6cc0d6e6ce";n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;vi="shareId";n.userCook="SRCHHPGUSR";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";n.toneExpiryCrumb="cdxtoneexp";var vt="InitialTone",ve="crtone",ye="cdxwinturn",pe="ADLT",d="MUID",yi="CMUID",we="BCTTSOS",pi="VSRO",be="VSVN",wi="BFBUSR",ke="CMUIDBCE",bi="CIBV",ki="BCML",di="BCMLNCount",g=!1,gi=!1,nr=!1,tr="BCRO",ir="BCRONCount",nt=!1,de="BCSRLANG",ge=["chips","query","searchQuery","text"],yt="<stripped/>",rr="cdxModalVisible",no="aad",v="",tt=document.title||"",ur=!1,fr=!1,it=!0,y=yi,p=!1,pt=!1,to=3,io=1,ro=2,uo=0,fo=3,r={System:"SystemEvent",Interaction:"InteractionEvent"},f={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},rt={c:"Creative",b:"Balanced",p:"Precise"},c={Creative:[],Balanced:[],Precise:[]},l="",er=!1,h=!1,or=!1,wt=-1,sr="",bt,hr=[],cr=u,lr="",ca={type:r.System,name:"SydneyTranslationAjaxLoaded",namespace:"TranslationJson",customLogData:null},ut={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"},eo="b_chat_external_content",oo="b_cib_ext",ar='cib-serp[serp-slot="none"]',vr="cib-serp",so='cib-serp[serp-slot="right-rail"]',yr="b_hide",ho="adInjectionComplete";n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.enableConvModeSwitchAjax=!1;n.enableBingChatPath=!1;n.setConfigs=co;n.setTestConfigs=pr;n.setColorScheme=rs;n.getMobileBrowserWidth=br;n.getMobileBrowserHeight=kr;n.prefetchTranslationStrings=us;n.setConvTranslationAsync=fs;n.setTigActiveSuggestionChipText=wh;n.getTigActiveSuggestionChipText=bh;n.getCookieTone=gt;n.updateResponseToneAfterSerp=rc;n.setSpeechLanguageConfig=fu;n.addOptionSet=e;n.removeOptionSet=eu;n.addSliceId=ou;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=sc;n.isCookieBannerVisibileOnChatPage=hc;n.SydLog=i;n.CompliantLog=ii;n.LogIntEvent=hu;n.setupHistory=lc;n.pushSydHistory=cu;n.updateConvFlagInURL=lu;n.addNotebookFlagInURL=ac;n.deleteNotebookFlagInURL=vc;n.updateConvPageTitle=pc;n.checkInitialState=wc;n.setEventListeners=bc;n.getActiveSuggestionChipText=kc;n.processCachedResponseUsingCIB=dc;n.triggerSydFSC=vu;n.getQuery=b;n.triggerShareFlow=gc;n.triggerSydFSCWithContext=yu;n.triggerSydFSCQueryWithContext=nl;n.setSydFSCEligibleState=tl;n.sydPayWallTrace=il;n.triggerClarity=rl;n.shouldMove1TAnswers=ul;n.addCarousel=fl;n.removeQueries=pu;n.set2TQueryConfigs=ui;n.retrieveSydneyFSCClientHeight=st;n.retrieveSydneyFSCClientWidth=ht;n.submitVisualSearchImage=bu;n.sendFirstQuery=hl;n.shouldSendQuery=gu;n.createRequest=fi;n.getJsonData=pl;n.createIntelligentQuery=wl;n.isSmoothConvSwitchUpdatedPage=nf;n.isFirstAjaxSerp=bl;n.updateChatBackgroundWidth=kl;n.hideSignInUpsellFor3P=dl;n.hideTopFade=gl;n.setNotebookOptions=na;n.setDefaultOptions=ta;n.setFreeSydneyData=ia;n.getDefaultFreeSydneyData=ra;n.injectExternalAd=ua;n.injectAnswerCard=fa;n.isAjaxSerpUpdatedPage=ea;sj_evt.fire("SydFSCHelperLoaded")}(SydFSCHelper||(SydFSCHelper={}))